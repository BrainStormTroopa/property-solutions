(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();function qd(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function fp(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var s=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(u).forEach(function(o){var a=Object.getOwnPropertyDescriptor(u,o);Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:function(){return u[o]}})}),s}var Ia={exports:{}},as={},$a={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function pp(){if(id)return ie;id=1;var u=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function j(k,L,se){this.props=k,this.context=L,this.refs=R,this.updater=se||O}j.prototype.isReactComponent={},j.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function C(){}C.prototype=j.prototype;function A(k,L,se){this.props=k,this.context=L,this.refs=R,this.updater=se||O}var P=A.prototype=new C;P.constructor=A,I(P,j.prototype),P.isPureReactComponent=!0;var M=Array.isArray,Z=Object.prototype.hasOwnProperty,G={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function de(k,L,se){var oe,le={},ue=null,me=null;if(L!=null)for(oe in L.ref!==void 0&&(me=L.ref),L.key!==void 0&&(ue=""+L.key),L)Z.call(L,oe)&&!ne.hasOwnProperty(oe)&&(le[oe]=L[oe]);var he=arguments.length-2;if(he===1)le.children=se;else if(1<he){for(var _e=Array(he),st=0;st<he;st++)_e[st]=arguments[st+2];le.children=_e}if(k&&k.defaultProps)for(oe in he=k.defaultProps,he)le[oe]===void 0&&(le[oe]=he[oe]);return{$$typeof:u,type:k,key:ue,ref:me,props:le,_owner:G.current}}function xe(k,L){return{$$typeof:u,type:k.type,key:L,ref:k.ref,props:k.props,_owner:k._owner}}function yt(k){return typeof k=="object"&&k!==null&&k.$$typeof===u}function Ae(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return L[se]})}var ct=/\/+/g;function nt(k,L){return typeof k=="object"&&k!==null&&k.key!=null?Ae(""+k.key):L.toString(36)}function vt(k,L,se,oe,le){var ue=typeof k;(ue==="undefined"||ue==="boolean")&&(k=null);var me=!1;if(k===null)me=!0;else switch(ue){case"string":case"number":me=!0;break;case"object":switch(k.$$typeof){case u:case n:me=!0}}if(me)return me=k,le=le(me),k=oe===""?"."+nt(me,0):oe,M(le)?(se="",k!=null&&(se=k.replace(ct,"$&/")+"/"),vt(le,L,se,"",function(st){return st})):le!=null&&(yt(le)&&(le=xe(le,se+(!le.key||me&&me.key===le.key?"":(""+le.key).replace(ct,"$&/")+"/")+k)),L.push(le)),1;if(me=0,oe=oe===""?".":oe+":",M(k))for(var he=0;he<k.length;he++){ue=k[he];var _e=oe+nt(ue,he);me+=vt(ue,L,se,_e,le)}else if(_e=N(k),typeof _e=="function")for(k=_e.call(k),he=0;!(ue=k.next()).done;)ue=ue.value,_e=oe+nt(ue,he++),me+=vt(ue,L,se,_e,le);else if(ue==="object")throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return me}function Ct(k,L,se){if(k==null)return k;var oe=[],le=0;return vt(k,oe,"","",function(ue){return L.call(se,ue,le++)}),oe}function Je(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var je={current:null},F={transition:null},ee={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:F,ReactCurrentOwner:G};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:Ct,forEach:function(k,L,se){Ct(k,function(){L.apply(this,arguments)},se)},count:function(k){var L=0;return Ct(k,function(){L++}),L},toArray:function(k){return Ct(k,function(L){return L})||[]},only:function(k){if(!yt(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ie.Component=j,ie.Fragment=s,ie.Profiler=a,ie.PureComponent=A,ie.StrictMode=o,ie.Suspense=g,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ie.act=q,ie.cloneElement=function(k,L,se){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var oe=I({},k.props),le=k.key,ue=k.ref,me=k._owner;if(L!=null){if(L.ref!==void 0&&(ue=L.ref,me=G.current),L.key!==void 0&&(le=""+L.key),k.type&&k.type.defaultProps)var he=k.type.defaultProps;for(_e in L)Z.call(L,_e)&&!ne.hasOwnProperty(_e)&&(oe[_e]=L[_e]===void 0&&he!==void 0?he[_e]:L[_e])}var _e=arguments.length-2;if(_e===1)oe.children=se;else if(1<_e){he=Array(_e);for(var st=0;st<_e;st++)he[st]=arguments[st+2];oe.children=he}return{$$typeof:u,type:k.type,key:le,ref:ue,props:oe,_owner:me}},ie.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},ie.createElement=de,ie.createFactory=function(k){var L=de.bind(null,k);return L.type=k,L},ie.createRef=function(){return{current:null}},ie.forwardRef=function(k){return{$$typeof:p,render:k}},ie.isValidElement=yt,ie.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:Je}},ie.memo=function(k,L){return{$$typeof:y,type:k,compare:L===void 0?null:L}},ie.startTransition=function(k){var L=F.transition;F.transition={};try{k()}finally{F.transition=L}},ie.unstable_act=q,ie.useCallback=function(k,L){return je.current.useCallback(k,L)},ie.useContext=function(k){return je.current.useContext(k)},ie.useDebugValue=function(){},ie.useDeferredValue=function(k){return je.current.useDeferredValue(k)},ie.useEffect=function(k,L){return je.current.useEffect(k,L)},ie.useId=function(){return je.current.useId()},ie.useImperativeHandle=function(k,L,se){return je.current.useImperativeHandle(k,L,se)},ie.useInsertionEffect=function(k,L){return je.current.useInsertionEffect(k,L)},ie.useLayoutEffect=function(k,L){return je.current.useLayoutEffect(k,L)},ie.useMemo=function(k,L){return je.current.useMemo(k,L)},ie.useReducer=function(k,L,se){return je.current.useReducer(k,L,se)},ie.useRef=function(k){return je.current.useRef(k)},ie.useState=function(k){return je.current.useState(k)},ie.useSyncExternalStore=function(k,L,se){return je.current.useSyncExternalStore(k,L,se)},ie.useTransition=function(){return je.current.useTransition()},ie.version="18.3.1",ie}var od;function ol(){return od||(od=1,$a.exports=pp()),$a.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function mp(){if(ad)return as;ad=1;var u=ol(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,y){var v,_={},N=null,O=null;y!==void 0&&(N=""+y),g.key!==void 0&&(N=""+g.key),g.ref!==void 0&&(O=g.ref);for(v in g)o.call(g,v)&&!c.hasOwnProperty(v)&&(_[v]=g[v]);if(p&&p.defaultProps)for(v in g=p.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:n,type:p,key:N,ref:O,props:_,_owner:a.current}}return as.Fragment=s,as.jsx=f,as.jsxs=f,as}var ld;function gp(){return ld||(ld=1,Ia.exports=mp()),Ia.exports}var h=gp(),X=ol();const yp=qd(X);var Ci={},La={exports:{}},tt={},Da={exports:{}},Ua={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function vp(){return ud||(ud=1,(function(u){function n(F,ee){var q=F.length;F.push(ee);e:for(;0<q;){var k=q-1>>>1,L=F[k];if(0<a(L,ee))F[k]=ee,F[q]=L,q=k;else break e}}function s(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var ee=F[0],q=F.pop();if(q!==ee){F[0]=q;e:for(var k=0,L=F.length,se=L>>>1;k<se;){var oe=2*(k+1)-1,le=F[oe],ue=oe+1,me=F[ue];if(0>a(le,q))ue<L&&0>a(me,le)?(F[k]=me,F[ue]=q,k=ue):(F[k]=le,F[oe]=q,k=oe);else if(ue<L&&0>a(me,q))F[k]=me,F[ue]=q,k=ue;else break e}}return ee}function a(F,ee){var q=F.sortIndex-ee.sortIndex;return q!==0?q:F.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;u.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();u.unstable_now=function(){return f.now()-p}}var g=[],y=[],v=1,_=null,N=3,O=!1,I=!1,R=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(F){for(var ee=s(y);ee!==null;){if(ee.callback===null)o(y);else if(ee.startTime<=F)o(y),ee.sortIndex=ee.expirationTime,n(g,ee);else break;ee=s(y)}}function M(F){if(R=!1,P(F),!I)if(s(g)!==null)I=!0,Je(Z);else{var ee=s(y);ee!==null&&je(M,ee.startTime-F)}}function Z(F,ee){I=!1,R&&(R=!1,C(de),de=-1),O=!0;var q=N;try{for(P(ee),_=s(g);_!==null&&(!(_.expirationTime>ee)||F&&!Ae());){var k=_.callback;if(typeof k=="function"){_.callback=null,N=_.priorityLevel;var L=k(_.expirationTime<=ee);ee=u.unstable_now(),typeof L=="function"?_.callback=L:_===s(g)&&o(g),P(ee)}else o(g);_=s(g)}if(_!==null)var se=!0;else{var oe=s(y);oe!==null&&je(M,oe.startTime-ee),se=!1}return se}finally{_=null,N=q,O=!1}}var G=!1,ne=null,de=-1,xe=5,yt=-1;function Ae(){return!(u.unstable_now()-yt<xe)}function ct(){if(ne!==null){var F=u.unstable_now();yt=F;var ee=!0;try{ee=ne(!0,F)}finally{ee?nt():(G=!1,ne=null)}}else G=!1}var nt;if(typeof A=="function")nt=function(){A(ct)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Ct=vt.port2;vt.port1.onmessage=ct,nt=function(){Ct.postMessage(null)}}else nt=function(){j(ct,0)};function Je(F){ne=F,G||(G=!0,nt())}function je(F,ee){de=j(function(){F(u.unstable_now())},ee)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(F){F.callback=null},u.unstable_continueExecution=function(){I||O||(I=!0,Je(Z))},u.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<F?Math.floor(1e3/F):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_getFirstCallbackNode=function(){return s(g)},u.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ee=3;break;default:ee=N}var q=N;N=ee;try{return F()}finally{N=q}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(F,ee){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=N;N=F;try{return ee()}finally{N=q}},u.unstable_scheduleCallback=function(F,ee,q){var k=u.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?k+q:k):q=k,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,F={id:v++,callback:ee,priorityLevel:F,startTime:q,expirationTime:L,sortIndex:-1},q>k?(F.sortIndex=q,n(y,F),s(g)===null&&F===s(y)&&(R?(C(de),de=-1):R=!0,je(M,q-k))):(F.sortIndex=L,n(g,F),I||O||(I=!0,Je(Z))),F},u.unstable_shouldYield=Ae,u.unstable_wrapCallback=function(F){var ee=N;return function(){var q=N;N=ee;try{return F.apply(this,arguments)}finally{N=q}}}})(Ua)),Ua}var cd;function wp(){return cd||(cd=1,Da.exports=vp()),Da.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function xp(){if(dd)return tt;dd=1;var u=ol(),n=wp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function N(e){return g.call(_,e)?!0:g.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function O(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function I(e,t,r,i){if(t===null||typeof t>"u"||O(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,r,i,l,d,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=m}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,A);j[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,A);j[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,A);j[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,r,i){var l=j.hasOwnProperty(t)?j[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(I(t,r,l,i)&&(r=null),i||l===null?N(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,i=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var M=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),G=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),de=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),F=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,k;function L(e){if(k===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var se=!1;function oe(e,t){if(!e||se)return"";se=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var i=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){i=T}e.call(t.prototype)}else{try{throw Error()}catch(T){i=T}e()}}catch(T){if(T&&i&&typeof T.stack=="string"){for(var l=T.stack.split(`
`),d=i.stack.split(`
`),m=l.length-1,w=d.length-1;1<=m&&0<=w&&l[m]!==d[w];)w--;for(;1<=m&&0<=w;m--,w--)if(l[m]!==d[w]){if(m!==1||w!==1)do if(m--,w--,0>w||l[m]!==d[w]){var x=`
`+l[m].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=m&&0<=w);break}}}finally{se=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function le(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case G:return"Portal";case xe:return"Profiler";case de:return"StrictMode";case nt:return"Suspense";case vt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ae:return(e.displayName||"Context")+".Consumer";case yt:return(e._context.displayName||"Context")+".Provider";case ct:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ct:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case Je:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function me(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===de?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function st(e){var t=_e(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(m){i=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=st(e))}function dl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=_e(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mi(e,t){var r=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hl(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=he(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fl(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function Fi(e,t){fl(e,t);var r=he(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bi(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bi(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bi(e,t,r){(t!=="number"||ws(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function Ar(e,t,r,i){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&i&&(e[r].defaultSelected=!0)}else{for(r=""+he(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Wi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ml(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(bn(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:he(r)}}function gl(e,t){var r=he(t.value),i=he(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function yl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,wl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gh=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){gh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function xl(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function _l(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,l=xl(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,l):e[r]=l}}var yh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hi(e,t){if(t){if(yh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Vi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ki=null;function Gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,Ir=null,$r=null;function bl(e){if(e=Vn(e)){if(typeof Ji!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ws(t),Ji(e.stateNode,e.type,t))}}function kl(e){Ir?$r?$r.push(e):$r=[e]:Ir=e}function Sl(){if(Ir){var e=Ir,t=$r;if($r=Ir=null,bl(e),t)for(e=0;e<t.length;e++)bl(t[e])}}function jl(e,t){return e(t)}function El(){}var Qi=!1;function Nl(e,t,r){if(Qi)return e(t,r);Qi=!0;try{return jl(e,t,r)}finally{Qi=!1,(Ir!==null||$r!==null)&&(El(),Sl())}}function jn(e,t){var r=e.stateNode;if(r===null)return null;var i=Ws(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Yi=!1;if(p)try{var En={};Object.defineProperty(En,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{Yi=!1}function vh(e,t,r,i,l,d,m,w,x){var T=Array.prototype.slice.call(arguments,3);try{t.apply(r,T)}catch(D){this.onError(D)}}var Nn=!1,_s=null,bs=!1,Xi=null,wh={onError:function(e){Nn=!0,_s=e}};function xh(e,t,r,i,l,d,m,w,x){Nn=!1,_s=null,vh.apply(wh,arguments)}function _h(e,t,r,i,l,d,m,w,x){if(xh.apply(this,arguments),Nn){if(Nn){var T=_s;Nn=!1,_s=null}else throw Error(s(198));bs||(bs=!0,Xi=T)}}function fr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tl(e){if(fr(e)!==e)throw Error(s(188))}function bh(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var l=r.return;if(l===null)break;var d=l.alternate;if(d===null){if(i=l.return,i!==null){r=i;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===r)return Tl(l),e;if(d===i)return Tl(l),t;d=d.sibling}throw Error(s(188))}if(r.return!==i.return)r=l,i=d;else{for(var m=!1,w=l.child;w;){if(w===r){m=!0,r=l,i=d;break}if(w===i){m=!0,i=l,r=d;break}w=w.sibling}if(!m){for(w=d.child;w;){if(w===r){m=!0,r=d,i=l;break}if(w===i){m=!0,i=d,r=l;break}w=w.sibling}if(!m)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Pl(e){return e=bh(e),e!==null?Ol(e):null}function Ol(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ol(e);if(t!==null)return t;e=e.sibling}return null}var Rl=n.unstable_scheduleCallback,Al=n.unstable_cancelCallback,kh=n.unstable_shouldYield,Sh=n.unstable_requestPaint,Ne=n.unstable_now,jh=n.unstable_getCurrentPriorityLevel,Zi=n.unstable_ImmediatePriority,Il=n.unstable_UserBlockingPriority,ks=n.unstable_NormalPriority,Eh=n.unstable_LowPriority,$l=n.unstable_IdlePriority,Ss=null,Tt=null;function Nh(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ss,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:Ph,Ch=Math.log,Th=Math.LN2;function Ph(e){return e>>>=0,e===0?32:31-(Ch(e)/Th|0)|0}var js=64,Es=4194304;function Cn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ns(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,l=e.suspendedLanes,d=e.pingedLanes,m=r&268435455;if(m!==0){var w=m&~l;w!==0?i=Cn(w):(d&=m,d!==0&&(i=Cn(d)))}else m=r&~l,m!==0?i=Cn(m):d!==0&&(i=Cn(d));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-wt(t),l=1<<r,i|=e[r],t&=~l;return i}function Oh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rh(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var m=31-wt(d),w=1<<m,x=l[m];x===-1?((w&r)===0||(w&i)!==0)&&(l[m]=Oh(w,t)):x<=t&&(e.expiredLanes|=w),d&=~w}}function eo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ll(){var e=js;return js<<=1,(js&4194240)===0&&(js=64),e}function to(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=r}function Ah(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-wt(r),d=1<<l;t[l]=0,i[l]=-1,e[l]=-1,r&=~d}}function ro(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-wt(r),l=1<<i;l&t|e[i]&t&&(e[i]|=t),r&=~l}}var fe=0;function Dl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ul,no,zl,Ml,Fl,so=!1,Cs=[],qt=null,Ht=null,Vt=null,Pn=new Map,On=new Map,Kt=[],Ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Pn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function Rn(e,t,r,i,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[l]},t!==null&&(t=Vn(t),t!==null&&no(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function $h(e,t,r,i,l){switch(t){case"focusin":return qt=Rn(qt,e,t,r,i,l),!0;case"dragenter":return Ht=Rn(Ht,e,t,r,i,l),!0;case"mouseover":return Vt=Rn(Vt,e,t,r,i,l),!0;case"pointerover":var d=l.pointerId;return Pn.set(d,Rn(Pn.get(d)||null,e,t,r,i,l)),!0;case"gotpointercapture":return d=l.pointerId,On.set(d,Rn(On.get(d)||null,e,t,r,i,l)),!0}return!1}function Wl(e){var t=pr(e.target);if(t!==null){var r=fr(t);if(r!==null){if(t=r.tag,t===13){if(t=Cl(r),t!==null){e.blockedOn=t,Fl(e.priority,function(){zl(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=oo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Ki=i,r.target.dispatchEvent(i),Ki=null}else return t=Vn(r),t!==null&&no(t),e.blockedOn=r,!1;t.shift()}return!0}function ql(e,t,r){Ts(e)&&r.delete(t)}function Lh(){so=!1,qt!==null&&Ts(qt)&&(qt=null),Ht!==null&&Ts(Ht)&&(Ht=null),Vt!==null&&Ts(Vt)&&(Vt=null),Pn.forEach(ql),On.forEach(ql)}function An(e,t){e.blockedOn===t&&(e.blockedOn=null,so||(so=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lh)))}function In(e){function t(l){return An(l,e)}if(0<Cs.length){An(Cs[0],e);for(var r=1;r<Cs.length;r++){var i=Cs[r];i.blockedOn===e&&(i.blockedOn=null)}}for(qt!==null&&An(qt,e),Ht!==null&&An(Ht,e),Vt!==null&&An(Vt,e),Pn.forEach(t),On.forEach(t),r=0;r<Kt.length;r++)i=Kt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Kt.length&&(r=Kt[0],r.blockedOn===null);)Wl(r),r.blockedOn===null&&Kt.shift()}var Lr=M.ReactCurrentBatchConfig,Ps=!0;function Dh(e,t,r,i){var l=fe,d=Lr.transition;Lr.transition=null;try{fe=1,io(e,t,r,i)}finally{fe=l,Lr.transition=d}}function Uh(e,t,r,i){var l=fe,d=Lr.transition;Lr.transition=null;try{fe=4,io(e,t,r,i)}finally{fe=l,Lr.transition=d}}function io(e,t,r,i){if(Ps){var l=oo(e,t,r,i);if(l===null)So(e,t,i,Os,r),Bl(e,i);else if($h(l,e,t,r,i))i.stopPropagation();else if(Bl(e,i),t&4&&-1<Ih.indexOf(e)){for(;l!==null;){var d=Vn(l);if(d!==null&&Ul(d),d=oo(e,t,r,i),d===null&&So(e,t,i,Os,r),d===l)break;l=d}l!==null&&i.stopPropagation()}else So(e,t,i,null,r)}}var Os=null;function oo(e,t,r,i){if(Os=null,e=Gi(i),e=pr(e),e!==null)if(t=fr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cl(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Os=e,null}function Hl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jh()){case Zi:return 1;case Il:return 4;case ks:case Eh:return 16;case $l:return 536870912;default:return 16}default:return 16}}var Gt=null,ao=null,Rs=null;function Vl(){if(Rs)return Rs;var e,t=ao,r=t.length,i,l="value"in Gt?Gt.value:Gt.textContent,d=l.length;for(e=0;e<r&&t[e]===l[e];e++);var m=r-e;for(i=1;i<=m&&t[r-i]===l[d-i];i++);return Rs=l.slice(e,1<i?1-i:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function Kl(){return!1}function it(e){function t(r,i,l,d,m){this._reactName=r,this._targetInst=l,this.type=i,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Is:Kl,this.isPropagationStopped=Kl,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=it(Dr),$n=q({},Dr,{view:0,detail:0}),zh=it($n),uo,co,Ln,$s=q({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(uo=e.screenX-Ln.screenX,co=e.screenY-Ln.screenY):co=uo=0,Ln=e),uo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),Gl=it($s),Mh=q({},$s,{dataTransfer:0}),Fh=it(Mh),Bh=q({},$n,{relatedTarget:0}),ho=it(Bh),Wh=q({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),qh=it(Wh),Hh=q({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vh=it(Hh),Kh=q({},Dr,{data:0}),Jl=it(Kh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qh[e])?!!t[e]:!1}function fo(){return Yh}var Xh=q({},$n,{key:function(e){if(e.key){var t=Gh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zh=it(Xh),ef=q({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ql=it(ef),tf=q({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),rf=it(tf),nf=q({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sf=it(nf),of=q({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),af=it(of),lf=[9,13,27,32],po=p&&"CompositionEvent"in window,Dn=null;p&&"documentMode"in document&&(Dn=document.documentMode);var uf=p&&"TextEvent"in window&&!Dn,Yl=p&&(!po||Dn&&8<Dn&&11>=Dn),Xl=" ",Zl=!1;function eu(e,t){switch(e){case"keyup":return lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ur=!1;function cf(e,t){switch(e){case"compositionend":return tu(t);case"keypress":return t.which!==32?null:(Zl=!0,Xl);case"textInput":return e=t.data,e===Xl&&Zl?null:e;default:return null}}function df(e,t){if(Ur)return e==="compositionend"||!po&&eu(e,t)?(e=Vl(),Rs=ao=Gt=null,Ur=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yl&&t.locale!=="ko"?null:t.data;default:return null}}var hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hf[e.type]:t==="textarea"}function nu(e,t,r,i){kl(i),t=Ms(t,"onChange"),0<t.length&&(r=new lo("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Un=null,zn=null;function ff(e){_u(e,0)}function Ls(e){var t=Wr(e);if(dl(t))return e}function pf(e,t){if(e==="change")return t}var su=!1;if(p){var mo;if(p){var go="oninput"in document;if(!go){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),go=typeof iu.oninput=="function"}mo=go}else mo=!1;su=mo&&(!document.documentMode||9<document.documentMode)}function ou(){Un&&(Un.detachEvent("onpropertychange",au),zn=Un=null)}function au(e){if(e.propertyName==="value"&&Ls(zn)){var t=[];nu(t,zn,e,Gi(e)),Nl(ff,t)}}function mf(e,t,r){e==="focusin"?(ou(),Un=t,zn=r,Un.attachEvent("onpropertychange",au)):e==="focusout"&&ou()}function gf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(zn)}function yf(e,t){if(e==="click")return Ls(t)}function vf(e,t){if(e==="input"||e==="change")return Ls(t)}function wf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:wf;function Mn(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var l=r[i];if(!g.call(t,l)||!xt(e[l],t[l]))return!1}return!0}function lu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uu(e,t){var r=lu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lu(r)}}function cu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function du(){for(var e=window,t=ws();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ws(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xf(e){var t=du(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&cu(r.ownerDocument.documentElement,r)){if(i!==null&&yo(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,d=Math.min(i.start,l);i=i.end===void 0?d:Math.min(i.end,l),!e.extend&&d>i&&(l=i,i=d,d=l),l=uu(r,d);var m=uu(r,i);l&&m&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _f=p&&"documentMode"in document&&11>=document.documentMode,zr=null,vo=null,Fn=null,wo=!1;function hu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wo||zr==null||zr!==ws(i)||(i=zr,"selectionStart"in i&&yo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fn&&Mn(Fn,i)||(Fn=i,i=Ms(vo,"onSelect"),0<i.length&&(t=new lo("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=zr)))}function Ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},xo={},fu={};p&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Us(e){if(xo[e])return xo[e];if(!Mr[e])return e;var t=Mr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in fu)return xo[e]=t[r];return e}var pu=Us("animationend"),mu=Us("animationiteration"),gu=Us("animationstart"),yu=Us("transitionend"),vu=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){vu.set(e,t),c(t,[e])}for(var _o=0;_o<wu.length;_o++){var bo=wu[_o],bf=bo.toLowerCase(),kf=bo[0].toUpperCase()+bo.slice(1);Jt(bf,"on"+kf)}Jt(pu,"onAnimationEnd"),Jt(mu,"onAnimationIteration"),Jt(gu,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(yu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bn));function xu(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,_h(i,t,void 0,e),e.currentTarget=null}function _u(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],l=i.event;i=i.listeners;e:{var d=void 0;if(t)for(var m=i.length-1;0<=m;m--){var w=i[m],x=w.instance,T=w.currentTarget;if(w=w.listener,x!==d&&l.isPropagationStopped())break e;xu(l,w,T),d=x}else for(m=0;m<i.length;m++){if(w=i[m],x=w.instance,T=w.currentTarget,w=w.listener,x!==d&&l.isPropagationStopped())break e;xu(l,w,T),d=x}}}if(bs)throw e=Xi,bs=!1,Xi=null,e}function ve(e,t){var r=t[Po];r===void 0&&(r=t[Po]=new Set);var i=e+"__bubble";r.has(i)||(bu(t,e,2,!1),r.add(i))}function ko(e,t,r){var i=0;t&&(i|=4),bu(r,e,i,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[zs]){e[zs]=!0,o.forEach(function(r){r!=="selectionchange"&&(Sf.has(r)||ko(r,!1,e),ko(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,ko("selectionchange",!1,t))}}function bu(e,t,r,i){switch(Hl(t)){case 1:var l=Dh;break;case 4:l=Uh;break;default:l=io}r=l.bind(null,t,r,e),l=void 0,!Yi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function So(e,t,r,i,l){var d=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var w=i.stateNode.containerInfo;if(w===l||w.nodeType===8&&w.parentNode===l)break;if(m===4)for(m=i.return;m!==null;){var x=m.tag;if((x===3||x===4)&&(x=m.stateNode.containerInfo,x===l||x.nodeType===8&&x.parentNode===l))return;m=m.return}for(;w!==null;){if(m=pr(w),m===null)return;if(x=m.tag,x===5||x===6){i=d=m;continue e}w=w.parentNode}}i=i.return}Nl(function(){var T=d,D=Gi(r),U=[];e:{var $=vu.get(e);if($!==void 0){var B=lo,H=e;switch(e){case"keypress":if(As(r)===0)break e;case"keydown":case"keyup":B=Zh;break;case"focusin":H="focus",B=ho;break;case"focusout":H="blur",B=ho;break;case"beforeblur":case"afterblur":B=ho;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=rf;break;case pu:case mu:case gu:B=qh;break;case yu:B=sf;break;case"scroll":B=zh;break;case"wheel":B=af;break;case"copy":case"cut":case"paste":B=Vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ql}var V=(t&4)!==0,Ce=!V&&e==="scroll",S=V?$!==null?$+"Capture":null:$;V=[];for(var b=T,E;b!==null;){E=b;var z=E.stateNode;if(E.tag===5&&z!==null&&(E=z,S!==null&&(z=jn(b,S),z!=null&&V.push(qn(b,z,E)))),Ce)break;b=b.return}0<V.length&&($=new B($,H,null,r,D),U.push({event:$,listeners:V}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",$&&r!==Ki&&(H=r.relatedTarget||r.fromElement)&&(pr(H)||H[$t]))break e;if((B||$)&&($=D.window===D?D:($=D.ownerDocument)?$.defaultView||$.parentWindow:window,B?(H=r.relatedTarget||r.toElement,B=T,H=H?pr(H):null,H!==null&&(Ce=fr(H),H!==Ce||H.tag!==5&&H.tag!==6)&&(H=null)):(B=null,H=T),B!==H)){if(V=Gl,z="onMouseLeave",S="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(V=Ql,z="onPointerLeave",S="onPointerEnter",b="pointer"),Ce=B==null?$:Wr(B),E=H==null?$:Wr(H),$=new V(z,b+"leave",B,r,D),$.target=Ce,$.relatedTarget=E,z=null,pr(D)===T&&(V=new V(S,b+"enter",H,r,D),V.target=E,V.relatedTarget=Ce,z=V),Ce=z,B&&H)t:{for(V=B,S=H,b=0,E=V;E;E=Fr(E))b++;for(E=0,z=S;z;z=Fr(z))E++;for(;0<b-E;)V=Fr(V),b--;for(;0<E-b;)S=Fr(S),E--;for(;b--;){if(V===S||S!==null&&V===S.alternate)break t;V=Fr(V),S=Fr(S)}V=null}else V=null;B!==null&&ku(U,$,B,V,!1),H!==null&&Ce!==null&&ku(U,Ce,H,V,!0)}}e:{if($=T?Wr(T):window,B=$.nodeName&&$.nodeName.toLowerCase(),B==="select"||B==="input"&&$.type==="file")var K=pf;else if(ru($))if(su)K=vf;else{K=gf;var J=mf}else(B=$.nodeName)&&B.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(K=yf);if(K&&(K=K(e,T))){nu(U,K,r,D);break e}J&&J(e,$,T),e==="focusout"&&(J=$._wrapperState)&&J.controlled&&$.type==="number"&&Bi($,"number",$.value)}switch(J=T?Wr(T):window,e){case"focusin":(ru(J)||J.contentEditable==="true")&&(zr=J,vo=T,Fn=null);break;case"focusout":Fn=vo=zr=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,hu(U,r,D);break;case"selectionchange":if(_f)break;case"keydown":case"keyup":hu(U,r,D)}var Q;if(po)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Ur?eu(e,r)&&(te="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(te="onCompositionStart");te&&(Yl&&r.locale!=="ko"&&(Ur||te!=="onCompositionStart"?te==="onCompositionEnd"&&Ur&&(Q=Vl()):(Gt=D,ao="value"in Gt?Gt.value:Gt.textContent,Ur=!0)),J=Ms(T,te),0<J.length&&(te=new Jl(te,e,null,r,D),U.push({event:te,listeners:J}),Q?te.data=Q:(Q=tu(r),Q!==null&&(te.data=Q)))),(Q=uf?cf(e,r):df(e,r))&&(T=Ms(T,"onBeforeInput"),0<T.length&&(D=new Jl("onBeforeInput","beforeinput",null,r,D),U.push({event:D,listeners:T}),D.data=Q))}_u(U,t)})}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ms(e,t){for(var r=t+"Capture",i=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=jn(e,r),d!=null&&i.unshift(qn(e,d,l)),d=jn(e,t),d!=null&&i.push(qn(e,d,l))),e=e.return}return i}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ku(e,t,r,i,l){for(var d=t._reactName,m=[];r!==null&&r!==i;){var w=r,x=w.alternate,T=w.stateNode;if(x!==null&&x===i)break;w.tag===5&&T!==null&&(w=T,l?(x=jn(r,d),x!=null&&m.unshift(qn(r,x,w))):l||(x=jn(r,d),x!=null&&m.push(qn(r,x,w)))),r=r.return}m.length!==0&&e.push({event:t,listeners:m})}var jf=/\r\n?/g,Ef=/\u0000|\uFFFD/g;function Su(e){return(typeof e=="string"?e:""+e).replace(jf,`
`).replace(Ef,"")}function Fs(e,t,r){if(t=Su(t),Su(e)!==t&&r)throw Error(s(425))}function Bs(){}var jo=null,Eo=null;function No(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,Nf=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,Cf=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(Tf)}:Co;function Tf(e){setTimeout(function(){throw e})}function To(e,t){var r=t,i=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(i===0){e.removeChild(l),In(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=l}while(r);In(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Br,Hn="__reactProps$"+Br,$t="__reactContainer$"+Br,Po="__reactEvents$"+Br,Pf="__reactListeners$"+Br,Of="__reactHandles$"+Br;function pr(e){var t=e[Pt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$t]||r[Pt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Eu(e);e!==null;){if(r=e[Pt])return r;e=Eu(e)}return t}e=r,r=e.parentNode}return null}function Vn(e){return e=e[Pt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ws(e){return e[Hn]||null}var Oo=[],qr=-1;function Yt(e){return{current:e}}function we(e){0>qr||(e.current=Oo[qr],Oo[qr]=null,qr--)}function ge(e,t){qr++,Oo[qr]=e.current,e.current=t}var Xt={},We=Yt(Xt),Qe=Yt(!1),mr=Xt;function Hr(e,t){var r=e.type.contextTypes;if(!r)return Xt;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in r)l[d]=t[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ye(e){return e=e.childContextTypes,e!=null}function qs(){we(Qe),we(We)}function Nu(e,t,r){if(We.current!==Xt)throw Error(s(168));ge(We,t),ge(Qe,r)}function Cu(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(s(108,me(e)||"Unknown",l));return q({},r,i)}function Hs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,mr=We.current,ge(We,e),ge(Qe,Qe.current),!0}function Tu(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=Cu(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,we(Qe),we(We),ge(We,e)):we(Qe),ge(Qe,r)}var Lt=null,Vs=!1,Ro=!1;function Pu(e){Lt===null?Lt=[e]:Lt.push(e)}function Rf(e){Vs=!0,Pu(e)}function Zt(){if(!Ro&&Lt!==null){Ro=!0;var e=0,t=fe;try{var r=Lt;for(fe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Lt=null,Vs=!1}catch(l){throw Lt!==null&&(Lt=Lt.slice(e+1)),Rl(Zi,Zt),l}finally{fe=t,Ro=!1}}return null}var Vr=[],Kr=0,Ks=null,Gs=0,dt=[],ht=0,gr=null,Dt=1,Ut="";function yr(e,t){Vr[Kr++]=Gs,Vr[Kr++]=Ks,Ks=e,Gs=t}function Ou(e,t,r){dt[ht++]=Dt,dt[ht++]=Ut,dt[ht++]=gr,gr=e;var i=Dt;e=Ut;var l=32-wt(i)-1;i&=~(1<<l),r+=1;var d=32-wt(t)+l;if(30<d){var m=l-l%5;d=(i&(1<<m)-1).toString(32),i>>=m,l-=m,Dt=1<<32-wt(t)+l|r<<l|i,Ut=d+e}else Dt=1<<d|r<<l|i,Ut=e}function Ao(e){e.return!==null&&(yr(e,1),Ou(e,1,0))}function Io(e){for(;e===Ks;)Ks=Vr[--Kr],Vr[Kr]=null,Gs=Vr[--Kr],Vr[Kr]=null;for(;e===gr;)gr=dt[--ht],dt[ht]=null,Ut=dt[--ht],dt[ht]=null,Dt=dt[--ht],dt[ht]=null}var ot=null,at=null,be=!1,_t=null;function Ru(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Au(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,at=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:Dt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ot=e,at=null,!0):!1;default:return!1}}function $o(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(be){var t=at;if(t){var r=t;if(!Au(e,t)){if($o(e))throw Error(s(418));t=Qt(r.nextSibling);var i=ot;t&&Au(e,t)?Ru(i,r):(e.flags=e.flags&-4097|2,be=!1,ot=e)}}else{if($o(e))throw Error(s(418));e.flags=e.flags&-4097|2,be=!1,ot=e}}}function Iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Js(e){if(e!==ot)return!1;if(!be)return Iu(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!No(e.type,e.memoizedProps)),t&&(t=at)){if($o(e))throw $u(),Error(s(418));for(;t;)Ru(e,t),t=Qt(t.nextSibling)}if(Iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){at=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}at=null}}else at=ot?Qt(e.stateNode.nextSibling):null;return!0}function $u(){for(var e=at;e;)e=Qt(e.nextSibling)}function Gr(){at=ot=null,be=!1}function Do(e){_t===null?_t=[e]:_t.push(e)}var Af=M.ReactCurrentBatchConfig;function Kn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var l=i,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(m){var w=l.refs;m===null?delete w[d]:w[d]=m},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lu(e){var t=e._init;return t(e._payload)}function Du(e){function t(S,b){if(e){var E=S.deletions;E===null?(S.deletions=[b],S.flags|=16):E.push(b)}}function r(S,b){if(!e)return null;for(;b!==null;)t(S,b),b=b.sibling;return null}function i(S,b){for(S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function l(S,b){return S=ar(S,b),S.index=0,S.sibling=null,S}function d(S,b,E){return S.index=E,e?(E=S.alternate,E!==null?(E=E.index,E<b?(S.flags|=2,b):E):(S.flags|=2,b)):(S.flags|=1048576,b)}function m(S){return e&&S.alternate===null&&(S.flags|=2),S}function w(S,b,E,z){return b===null||b.tag!==6?(b=Ca(E,S.mode,z),b.return=S,b):(b=l(b,E),b.return=S,b)}function x(S,b,E,z){var K=E.type;return K===ne?D(S,b,E.props.children,z,E.key):b!==null&&(b.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Je&&Lu(K)===b.type)?(z=l(b,E.props),z.ref=Kn(S,b,E),z.return=S,z):(z=xi(E.type,E.key,E.props,null,S.mode,z),z.ref=Kn(S,b,E),z.return=S,z)}function T(S,b,E,z){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Ta(E,S.mode,z),b.return=S,b):(b=l(b,E.children||[]),b.return=S,b)}function D(S,b,E,z,K){return b===null||b.tag!==7?(b=jr(E,S.mode,z,K),b.return=S,b):(b=l(b,E),b.return=S,b)}function U(S,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ca(""+b,S.mode,E),b.return=S,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Z:return E=xi(b.type,b.key,b.props,null,S.mode,E),E.ref=Kn(S,null,b),E.return=S,E;case G:return b=Ta(b,S.mode,E),b.return=S,b;case Je:var z=b._init;return U(S,z(b._payload),E)}if(bn(b)||ee(b))return b=jr(b,S.mode,E,null),b.return=S,b;Qs(S,b)}return null}function $(S,b,E,z){var K=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return K!==null?null:w(S,b,""+E,z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Z:return E.key===K?x(S,b,E,z):null;case G:return E.key===K?T(S,b,E,z):null;case Je:return K=E._init,$(S,b,K(E._payload),z)}if(bn(E)||ee(E))return K!==null?null:D(S,b,E,z,null);Qs(S,E)}return null}function B(S,b,E,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return S=S.get(E)||null,w(b,S,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Z:return S=S.get(z.key===null?E:z.key)||null,x(b,S,z,K);case G:return S=S.get(z.key===null?E:z.key)||null,T(b,S,z,K);case Je:var J=z._init;return B(S,b,E,J(z._payload),K)}if(bn(z)||ee(z))return S=S.get(E)||null,D(b,S,z,K,null);Qs(b,z)}return null}function H(S,b,E,z){for(var K=null,J=null,Q=b,te=b=0,ze=null;Q!==null&&te<E.length;te++){Q.index>te?(ze=Q,Q=null):ze=Q.sibling;var ce=$(S,Q,E[te],z);if(ce===null){Q===null&&(Q=ze);break}e&&Q&&ce.alternate===null&&t(S,Q),b=d(ce,b,te),J===null?K=ce:J.sibling=ce,J=ce,Q=ze}if(te===E.length)return r(S,Q),be&&yr(S,te),K;if(Q===null){for(;te<E.length;te++)Q=U(S,E[te],z),Q!==null&&(b=d(Q,b,te),J===null?K=Q:J.sibling=Q,J=Q);return be&&yr(S,te),K}for(Q=i(S,Q);te<E.length;te++)ze=B(Q,S,te,E[te],z),ze!==null&&(e&&ze.alternate!==null&&Q.delete(ze.key===null?te:ze.key),b=d(ze,b,te),J===null?K=ze:J.sibling=ze,J=ze);return e&&Q.forEach(function(lr){return t(S,lr)}),be&&yr(S,te),K}function V(S,b,E,z){var K=ee(E);if(typeof K!="function")throw Error(s(150));if(E=K.call(E),E==null)throw Error(s(151));for(var J=K=null,Q=b,te=b=0,ze=null,ce=E.next();Q!==null&&!ce.done;te++,ce=E.next()){Q.index>te?(ze=Q,Q=null):ze=Q.sibling;var lr=$(S,Q,ce.value,z);if(lr===null){Q===null&&(Q=ze);break}e&&Q&&lr.alternate===null&&t(S,Q),b=d(lr,b,te),J===null?K=lr:J.sibling=lr,J=lr,Q=ze}if(ce.done)return r(S,Q),be&&yr(S,te),K;if(Q===null){for(;!ce.done;te++,ce=E.next())ce=U(S,ce.value,z),ce!==null&&(b=d(ce,b,te),J===null?K=ce:J.sibling=ce,J=ce);return be&&yr(S,te),K}for(Q=i(S,Q);!ce.done;te++,ce=E.next())ce=B(Q,S,te,ce.value,z),ce!==null&&(e&&ce.alternate!==null&&Q.delete(ce.key===null?te:ce.key),b=d(ce,b,te),J===null?K=ce:J.sibling=ce,J=ce);return e&&Q.forEach(function(hp){return t(S,hp)}),be&&yr(S,te),K}function Ce(S,b,E,z){if(typeof E=="object"&&E!==null&&E.type===ne&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Z:e:{for(var K=E.key,J=b;J!==null;){if(J.key===K){if(K=E.type,K===ne){if(J.tag===7){r(S,J.sibling),b=l(J,E.props.children),b.return=S,S=b;break e}}else if(J.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Je&&Lu(K)===J.type){r(S,J.sibling),b=l(J,E.props),b.ref=Kn(S,J,E),b.return=S,S=b;break e}r(S,J);break}else t(S,J);J=J.sibling}E.type===ne?(b=jr(E.props.children,S.mode,z,E.key),b.return=S,S=b):(z=xi(E.type,E.key,E.props,null,S.mode,z),z.ref=Kn(S,b,E),z.return=S,S=z)}return m(S);case G:e:{for(J=E.key;b!==null;){if(b.key===J)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){r(S,b.sibling),b=l(b,E.children||[]),b.return=S,S=b;break e}else{r(S,b);break}else t(S,b);b=b.sibling}b=Ta(E,S.mode,z),b.return=S,S=b}return m(S);case Je:return J=E._init,Ce(S,b,J(E._payload),z)}if(bn(E))return H(S,b,E,z);if(ee(E))return V(S,b,E,z);Qs(S,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(r(S,b.sibling),b=l(b,E),b.return=S,S=b):(r(S,b),b=Ca(E,S.mode,z),b.return=S,S=b),m(S)):r(S,b)}return Ce}var Jr=Du(!0),Uu=Du(!1),Ys=Yt(null),Xs=null,Qr=null,Uo=null;function zo(){Uo=Qr=Xs=null}function Mo(e){var t=Ys.current;we(Ys),e._currentValue=t}function Fo(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Yr(e,t){Xs=e,Uo=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Xe=!0),e.firstContext=null)}function ft(e){var t=e._currentValue;if(Uo!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Xs===null)throw Error(s(308));Qr=e,Xs.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var vr=null;function Bo(e){vr===null?vr=[e]:vr.push(e)}function zu(e,t,r,i){var l=t.interleaved;return l===null?(r.next=r,Bo(t)):(r.next=l.next,l.next=r),t.interleaved=r,zt(e,i)}function zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var er=!1;function Wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ae&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,zt(e,r)}return l=i.interleaved,l===null?(t.next=t,Bo(i)):(t.next=l.next,l.next=t),i.interleaved=t,zt(e,r)}function Zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,ro(e,r)}}function Fu(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var l=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var m={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?l=d=m:d=d.next=m,r=r.next}while(r!==null);d===null?l=d=t:d=d.next=t}else l=d=t;r={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ei(e,t,r,i){var l=e.updateQueue;er=!1;var d=l.firstBaseUpdate,m=l.lastBaseUpdate,w=l.shared.pending;if(w!==null){l.shared.pending=null;var x=w,T=x.next;x.next=null,m===null?d=T:m.next=T,m=x;var D=e.alternate;D!==null&&(D=D.updateQueue,w=D.lastBaseUpdate,w!==m&&(w===null?D.firstBaseUpdate=T:w.next=T,D.lastBaseUpdate=x))}if(d!==null){var U=l.baseState;m=0,D=T=x=null,w=d;do{var $=w.lane,B=w.eventTime;if((i&$)===$){D!==null&&(D=D.next={eventTime:B,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var H=e,V=w;switch($=t,B=r,V.tag){case 1:if(H=V.payload,typeof H=="function"){U=H.call(B,U,$);break e}U=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=V.payload,$=typeof H=="function"?H.call(B,U,$):H,$==null)break e;U=q({},U,$);break e;case 2:er=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,$=l.effects,$===null?l.effects=[w]:$.push(w))}else B={eventTime:B,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},D===null?(T=D=B,x=U):D=D.next=B,m|=$;if(w=w.next,w===null){if(w=l.shared.pending,w===null)break;$=w,w=$.next,$.next=null,l.lastBaseUpdate=$,l.shared.pending=null}}while(!0);if(D===null&&(x=U),l.baseState=x,l.firstBaseUpdate=T,l.lastBaseUpdate=D,t=l.shared.interleaved,t!==null){l=t;do m|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);_r|=m,e.lanes=m,e.memoizedState=U}}function Bu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=r,typeof l!="function")throw Error(s(191,l));l.call(i)}}}var Gn={},Ot=Yt(Gn),Jn=Yt(Gn),Qn=Yt(Gn);function wr(e){if(e===Gn)throw Error(s(174));return e}function qo(e,t){switch(ge(Qn,t),ge(Jn,e),ge(Ot,Gn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qi(t,e)}we(Ot),ge(Ot,t)}function Xr(){we(Ot),we(Jn),we(Qn)}function Wu(e){wr(Qn.current);var t=wr(Ot.current),r=qi(t,e.type);t!==r&&(ge(Jn,e),ge(Ot,r))}function Ho(e){Jn.current===e&&(we(Ot),we(Jn))}var ke=Yt(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function Ko(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var ri=M.ReactCurrentDispatcher,Go=M.ReactCurrentBatchConfig,xr=0,Se=null,Ie=null,De=null,ni=!1,Yn=!1,Xn=0,If=0;function qe(){throw Error(s(321))}function Jo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xt(e[r],t[r]))return!1;return!0}function Qo(e,t,r,i,l,d){if(xr=d,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=e===null||e.memoizedState===null?Uf:zf,e=r(i,l),Yn){d=0;do{if(Yn=!1,Xn=0,25<=d)throw Error(s(301));d+=1,De=Ie=null,t.updateQueue=null,ri.current=Mf,e=r(i,l)}while(Yn)}if(ri.current=oi,t=Ie!==null&&Ie.next!==null,xr=0,De=Ie=Se=null,ni=!1,t)throw Error(s(300));return e}function Yo(){var e=Xn!==0;return Xn=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Se.memoizedState=De=e:De=De.next=e,De}function pt(){if(Ie===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ie.next;var t=De===null?Se.memoizedState:De.next;if(t!==null)De=t,Ie=e;else{if(e===null)throw Error(s(310));Ie=e,e={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},De===null?Se.memoizedState=De=e:De=De.next=e}return De}function Zn(e,t){return typeof t=="function"?t(e):t}function Xo(e){var t=pt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=Ie,l=i.baseQueue,d=r.pending;if(d!==null){if(l!==null){var m=l.next;l.next=d.next,d.next=m}i.baseQueue=l=d,r.pending=null}if(l!==null){d=l.next,i=i.baseState;var w=m=null,x=null,T=d;do{var D=T.lane;if((xr&D)===D)x!==null&&(x=x.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),i=T.hasEagerState?T.eagerState:e(i,T.action);else{var U={lane:D,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};x===null?(w=x=U,m=i):x=x.next=U,Se.lanes|=D,_r|=D}T=T.next}while(T!==null&&T!==d);x===null?m=i:x.next=w,xt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=x,r.lastRenderedState=i}if(e=r.interleaved,e!==null){l=e;do d=l.lane,Se.lanes|=d,_r|=d,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zo(e){var t=pt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,l=r.pending,d=t.memoizedState;if(l!==null){r.pending=null;var m=l=l.next;do d=e(d,m.action),m=m.next;while(m!==l);xt(d,t.memoizedState)||(Xe=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,i]}function qu(){}function Hu(e,t){var r=Se,i=pt(),l=t(),d=!xt(i.memoizedState,l);if(d&&(i.memoizedState=l,Xe=!0),i=i.queue,ea(Gu.bind(null,r,i,e),[e]),i.getSnapshot!==t||d||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,es(9,Ku.bind(null,r,i,l,t),void 0,null),Ue===null)throw Error(s(349));(xr&30)!==0||Vu(r,t,l)}return l}function Vu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ku(e,t,r,i){t.value=r,t.getSnapshot=i,Ju(t)&&Qu(e)}function Gu(e,t,r){return r(function(){Ju(t)&&Qu(e)})}function Ju(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xt(e,r)}catch{return!0}}function Qu(e){var t=zt(e,1);t!==null&&jt(t,e,1,-1)}function Yu(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zn,lastRenderedState:e},t.queue=e,e=e.dispatch=Df.bind(null,Se,e),[t.memoizedState,e]}function es(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Xu(){return pt().memoizedState}function si(e,t,r,i){var l=Rt();Se.flags|=e,l.memoizedState=es(1|t,r,void 0,i===void 0?null:i)}function ii(e,t,r,i){var l=pt();i=i===void 0?null:i;var d=void 0;if(Ie!==null){var m=Ie.memoizedState;if(d=m.destroy,i!==null&&Jo(i,m.deps)){l.memoizedState=es(t,r,d,i);return}}Se.flags|=e,l.memoizedState=es(1|t,r,d,i)}function Zu(e,t){return si(8390656,8,e,t)}function ea(e,t){return ii(2048,8,e,t)}function ec(e,t){return ii(4,2,e,t)}function tc(e,t){return ii(4,4,e,t)}function rc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nc(e,t,r){return r=r!=null?r.concat([e]):null,ii(4,4,rc.bind(null,t,e),r)}function ta(){}function sc(e,t){var r=pt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Jo(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function ic(e,t){var r=pt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Jo(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function oc(e,t,r){return(xr&21)===0?(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=r):(xt(r,t)||(r=Ll(),Se.lanes|=r,_r|=r,e.baseState=!0),t)}function $f(e,t){var r=fe;fe=r!==0&&4>r?r:4,e(!0);var i=Go.transition;Go.transition={};try{e(!1),t()}finally{fe=r,Go.transition=i}}function ac(){return pt().memoizedState}function Lf(e,t,r){var i=ir(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},lc(e))uc(t,r);else if(r=zu(e,t,r,i),r!==null){var l=Ge();jt(r,e,i,l),cc(r,t,i)}}function Df(e,t,r){var i=ir(e),l={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(lc(e))uc(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,w=d(m,r);if(l.hasEagerState=!0,l.eagerState=w,xt(w,m)){var x=t.interleaved;x===null?(l.next=l,Bo(t)):(l.next=x.next,x.next=l),t.interleaved=l;return}}catch{}finally{}r=zu(e,t,l,i),r!==null&&(l=Ge(),jt(r,e,i,l),cc(r,t,i))}}function lc(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function uc(e,t){Yn=ni=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,ro(e,r)}}var oi={readContext:ft,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Uf={readContext:ft,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Zu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,si(4194308,4,rc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){return si(4,2,e,t)},useMemo:function(e,t){var r=Rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Rt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Lf.bind(null,Se,e),[i.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:Yu,useDebugValue:ta,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=Yu(!1),t=e[0];return e=$f.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Se,l=Rt();if(be){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Ue===null)throw Error(s(349));(xr&30)!==0||Vu(i,t,r)}l.memoizedState=r;var d={value:r,getSnapshot:t};return l.queue=d,Zu(Gu.bind(null,i,d,e),[e]),i.flags|=2048,es(9,Ku.bind(null,i,d,r,t),void 0,null),r},useId:function(){var e=Rt(),t=Ue.identifierPrefix;if(be){var r=Ut,i=Dt;r=(i&~(1<<32-wt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=If++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zf={readContext:ft,useCallback:sc,useContext:ft,useEffect:ea,useImperativeHandle:nc,useInsertionEffect:ec,useLayoutEffect:tc,useMemo:ic,useReducer:Xo,useRef:Xu,useState:function(){return Xo(Zn)},useDebugValue:ta,useDeferredValue:function(e){var t=pt();return oc(t,Ie.memoizedState,e)},useTransition:function(){var e=Xo(Zn)[0],t=pt().memoizedState;return[e,t]},useMutableSource:qu,useSyncExternalStore:Hu,useId:ac,unstable_isNewReconciler:!1},Mf={readContext:ft,useCallback:sc,useContext:ft,useEffect:ea,useImperativeHandle:nc,useInsertionEffect:ec,useLayoutEffect:tc,useMemo:ic,useReducer:Zo,useRef:Xu,useState:function(){return Zo(Zn)},useDebugValue:ta,useDeferredValue:function(e){var t=pt();return Ie===null?t.memoizedState=e:oc(t,Ie.memoizedState,e)},useTransition:function(){var e=Zo(Zn)[0],t=pt().memoizedState;return[e,t]},useMutableSource:qu,useSyncExternalStore:Hu,useId:ac,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ra(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:q({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ge(),l=ir(e),d=Mt(i,l);d.payload=t,r!=null&&(d.callback=r),t=tr(e,d,l),t!==null&&(jt(t,e,l,i),Zs(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ge(),l=ir(e),d=Mt(i,l);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=tr(e,d,l),t!==null&&(jt(t,e,l,i),Zs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ge(),i=ir(e),l=Mt(r,i);l.tag=2,t!=null&&(l.callback=t),t=tr(e,l,i),t!==null&&(jt(t,e,i,r),Zs(t,e,i))}};function dc(e,t,r,i,l,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,m):t.prototype&&t.prototype.isPureReactComponent?!Mn(r,i)||!Mn(l,d):!0}function hc(e,t,r){var i=!1,l=Xt,d=t.contextType;return typeof d=="object"&&d!==null?d=ft(d):(l=Ye(t)?mr:We.current,i=t.contextTypes,d=(i=i!=null)?Hr(e,l):Xt),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function fc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function na(e,t,r,i){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},Wo(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=ft(d):(d=Ye(t)?mr:We.current,l.context=Hr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ra(e,t,d,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ai.enqueueReplaceState(l,l.state,null),ei(e,r,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var r="",i=t;do r+=le(i),i=i.return;while(i);var l=r}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function sa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ia(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ff=typeof WeakMap=="function"?WeakMap:Map;function pc(e,t,r){r=Mt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){pi||(pi=!0,xa=i),ia(e,t)},r}function mc(e,t,r){r=Mt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;r.payload=function(){return i(l)},r.callback=function(){ia(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){ia(e,t),typeof i!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),r}function gc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Ff;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(r)||(l.add(r),e=tp.bind(null,e,t,r),t.then(e,e))}function yc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vc(e,t,r,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mt(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Bf=M.ReactCurrentOwner,Xe=!1;function Ke(e,t,r,i){t.child=e===null?Uu(t,null,r,i):Jr(t,e.child,r,i)}function wc(e,t,r,i,l){r=r.render;var d=t.ref;return Yr(t,l),i=Qo(e,t,r,i,d,l),r=Yo(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ft(e,t,l)):(be&&r&&Ao(t),t.flags|=1,Ke(e,t,i,l),t.child)}function xc(e,t,r,i,l){if(e===null){var d=r.type;return typeof d=="function"&&!Na(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,_c(e,t,d,i,l)):(e=xi(r.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var m=d.memoizedProps;if(r=r.compare,r=r!==null?r:Mn,r(m,i)&&e.ref===t.ref)return Ft(e,t,l)}return t.flags|=1,e=ar(d,i),e.ref=t.ref,e.return=t,t.child=e}function _c(e,t,r,i,l){if(e!==null){var d=e.memoizedProps;if(Mn(d,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,Ft(e,t,l)}return oa(e,t,r,i,l)}function bc(e,t,r){var i=t.pendingProps,l=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(tn,lt),lt|=r;else{if((r&1073741824)===0)return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(tn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:r,ge(tn,lt),lt|=i}else d!==null?(i=d.baseLanes|r,t.memoizedState=null):i=r,ge(tn,lt),lt|=i;return Ke(e,t,l,r),t.child}function kc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function oa(e,t,r,i,l){var d=Ye(r)?mr:We.current;return d=Hr(t,d),Yr(t,l),r=Qo(e,t,r,i,d,l),i=Yo(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Ft(e,t,l)):(be&&i&&Ao(t),t.flags|=1,Ke(e,t,r,l),t.child)}function Sc(e,t,r,i,l){if(Ye(r)){var d=!0;Hs(t)}else d=!1;if(Yr(t,l),t.stateNode===null)ui(e,t),hc(t,r,i),na(t,r,i,l),i=!0;else if(e===null){var m=t.stateNode,w=t.memoizedProps;m.props=w;var x=m.context,T=r.contextType;typeof T=="object"&&T!==null?T=ft(T):(T=Ye(r)?mr:We.current,T=Hr(t,T));var D=r.getDerivedStateFromProps,U=typeof D=="function"||typeof m.getSnapshotBeforeUpdate=="function";U||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==i||x!==T)&&fc(t,m,i,T),er=!1;var $=t.memoizedState;m.state=$,ei(t,i,m,l),x=t.memoizedState,w!==i||$!==x||Qe.current||er?(typeof D=="function"&&(ra(t,r,D,i),x=t.memoizedState),(w=er||dc(t,r,w,i,$,x,T))?(U||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),m.props=i,m.state=x,m.context=T,i=w):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,Mu(e,t),w=t.memoizedProps,T=t.type===t.elementType?w:bt(t.type,w),m.props=T,U=t.pendingProps,$=m.context,x=r.contextType,typeof x=="object"&&x!==null?x=ft(x):(x=Ye(r)?mr:We.current,x=Hr(t,x));var B=r.getDerivedStateFromProps;(D=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==U||$!==x)&&fc(t,m,i,x),er=!1,$=t.memoizedState,m.state=$,ei(t,i,m,l);var H=t.memoizedState;w!==U||$!==H||Qe.current||er?(typeof B=="function"&&(ra(t,r,B,i),H=t.memoizedState),(T=er||dc(t,r,T,i,$,H,x)||!1)?(D||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,H,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,H,x)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=H),m.props=i,m.state=H,m.context=x,i=T):(typeof m.componentDidUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),i=!1)}return aa(e,t,r,i,d,l)}function aa(e,t,r,i,l,d){kc(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return l&&Tu(t,r,!1),Ft(e,t,d);i=t.stateNode,Bf.current=t;var w=m&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=Jr(t,e.child,null,d),t.child=Jr(t,null,w,d)):Ke(e,t,w,d),t.memoizedState=i.state,l&&Tu(t,r,!0),t.child}function jc(e){var t=e.stateNode;t.pendingContext?Nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nu(e,t.context,!1),qo(e,t.containerInfo)}function Ec(e,t,r,i,l){return Gr(),Do(l),t.flags|=256,Ke(e,t,r,i),t.child}var la={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nc(e,t,r){var i=t.pendingProps,l=ke.current,d=!1,m=(t.flags&128)!==0,w;if((w=m)||(w=e!==null&&e.memoizedState===null?!1:(l&2)!==0),w?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ge(ke,l&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=i.children,e=i.fallback,d?(i=t.mode,d=t.child,m={mode:"hidden",children:m},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=m):d=_i(m,i,0,null),e=jr(e,i,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=ua(r),t.memoizedState=la,e):ca(t,m));if(l=e.memoizedState,l!==null&&(w=l.dehydrated,w!==null))return Wf(e,t,m,i,w,l,r);if(d){d=i.fallback,m=t.mode,l=e.child,w=l.sibling;var x={mode:"hidden",children:i.children};return(m&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=ar(l,x),i.subtreeFlags=l.subtreeFlags&14680064),w!==null?d=ar(w,d):(d=jr(d,m,r,null),d.flags|=2),d.return=t,i.return=t,i.sibling=d,t.child=i,i=d,d=t.child,m=e.child.memoizedState,m=m===null?ua(r):{baseLanes:m.baseLanes|r,cachePool:null,transitions:m.transitions},d.memoizedState=m,d.childLanes=e.childLanes&~r,t.memoizedState=la,i}return d=e.child,e=d.sibling,i=ar(d,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ca(e,t){return t=_i({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,r,i){return i!==null&&Do(i),Jr(t,e.child,null,r),e=ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wf(e,t,r,i,l,d,m){if(r)return t.flags&256?(t.flags&=-257,i=sa(Error(s(422))),li(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=i.fallback,l=t.mode,i=_i({mode:"visible",children:i.children},l,0,null),d=jr(d,l,m,null),d.flags|=2,i.return=t,d.return=t,i.sibling=d,t.child=i,(t.mode&1)!==0&&Jr(t,e.child,null,m),t.child.memoizedState=ua(m),t.memoizedState=la,d);if((t.mode&1)===0)return li(e,t,m,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(s(419)),i=sa(d,i,void 0),li(e,t,m,i)}if(w=(m&e.childLanes)!==0,Xe||w){if(i=Ue,i!==null){switch(m&-m){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|m))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,zt(e,l),jt(i,e,l,-1))}return Ea(),i=sa(Error(s(421))),li(e,t,m,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=rp.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,at=Qt(l.nextSibling),ot=t,be=!0,_t=null,e!==null&&(dt[ht++]=Dt,dt[ht++]=Ut,dt[ht++]=gr,Dt=e.id,Ut=e.overflow,gr=t),t=ca(t,i.children),t.flags|=4096,t)}function Cc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Fo(e.return,t,r)}function da(e,t,r,i,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=r,d.tailMode=l)}function Tc(e,t,r){var i=t.pendingProps,l=i.revealOrder,d=i.tail;if(Ke(e,t,i.children,r),i=ke.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cc(e,r,t);else if(e.tag===19)Cc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ge(ke,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&ti(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),da(t,!1,l,r,d);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&ti(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}da(t,!0,r,null,d);break;case"together":da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qf(e,t,r){switch(t.tag){case 3:jc(t),Gr();break;case 5:Wu(t);break;case 1:Ye(t.type)&&Hs(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;ge(Ys,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ge(ke,ke.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Nc(e,t,r):(ge(ke,ke.current&1),e=Ft(e,t,r),e!==null?e.sibling:null);ge(ke,ke.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Tc(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ge(ke,ke.current),i)break;return null;case 22:case 23:return t.lanes=0,bc(e,t,r)}return Ft(e,t,r)}var Pc,ha,Oc,Rc;Pc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ha=function(){},Oc=function(e,t,r,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,wr(Ot.current);var d=null;switch(r){case"input":l=Mi(e,l),i=Mi(e,i),d=[];break;case"select":l=q({},l,{value:void 0}),i=q({},i,{value:void 0}),d=[];break;case"textarea":l=Wi(e,l),i=Wi(e,i),d=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Bs)}Hi(r,i);var m;r=null;for(T in l)if(!i.hasOwnProperty(T)&&l.hasOwnProperty(T)&&l[T]!=null)if(T==="style"){var w=l[T];for(m in w)w.hasOwnProperty(m)&&(r||(r={}),r[m]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?d||(d=[]):(d=d||[]).push(T,null));for(T in i){var x=i[T];if(w=l?.[T],i.hasOwnProperty(T)&&x!==w&&(x!=null||w!=null))if(T==="style")if(w){for(m in w)!w.hasOwnProperty(m)||x&&x.hasOwnProperty(m)||(r||(r={}),r[m]="");for(m in x)x.hasOwnProperty(m)&&w[m]!==x[m]&&(r||(r={}),r[m]=x[m])}else r||(d||(d=[]),d.push(T,r)),r=x;else T==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,w=w?w.__html:void 0,x!=null&&w!==x&&(d=d||[]).push(T,x)):T==="children"?typeof x!="string"&&typeof x!="number"||(d=d||[]).push(T,""+x):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(a.hasOwnProperty(T)?(x!=null&&T==="onScroll"&&ve("scroll",e),d||w===x||(d=[])):(d=d||[]).push(T,x))}r&&(d=d||[]).push("style",r);var T=d;(t.updateQueue=T)&&(t.flags|=4)}},Rc=function(e,t,r,i){r!==i&&(t.flags|=4)};function ts(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Hf(e,t,r){var i=t.pendingProps;switch(Io(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Ye(t.type)&&qs(),He(t),null;case 3:return i=t.stateNode,Xr(),we(Qe),we(We),Ko(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_t!==null&&(ka(_t),_t=null))),ha(e,t),He(t),null;case 5:Ho(t);var l=wr(Qn.current);if(r=t.type,e!==null&&t.stateNode!=null)Oc(e,t,r,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return He(t),null}if(e=wr(Ot.current),Js(t)){i=t.stateNode,r=t.type;var d=t.memoizedProps;switch(i[Pt]=t,i[Hn]=d,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(l=0;l<Bn.length;l++)ve(Bn[l],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":hl(i,d),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},ve("invalid",i);break;case"textarea":ml(i,d),ve("invalid",i)}Hi(r,d),l=null;for(var m in d)if(d.hasOwnProperty(m)){var w=d[m];m==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Fs(i.textContent,w,e),l=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Fs(i.textContent,w,e),l=["children",""+w]):a.hasOwnProperty(m)&&w!=null&&m==="onScroll"&&ve("scroll",i)}switch(r){case"input":vs(i),pl(i,d,!0);break;case"textarea":vs(i),yl(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Bs)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vl(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(r,{is:i.is}):(e=m.createElement(r),r==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,r),e[Pt]=t,e[Hn]=i,Pc(e,t,!1,!1),t.stateNode=e;e:{switch(m=Vi(r,i),r){case"dialog":ve("cancel",e),ve("close",e),l=i;break;case"iframe":case"object":case"embed":ve("load",e),l=i;break;case"video":case"audio":for(l=0;l<Bn.length;l++)ve(Bn[l],e);l=i;break;case"source":ve("error",e),l=i;break;case"img":case"image":case"link":ve("error",e),ve("load",e),l=i;break;case"details":ve("toggle",e),l=i;break;case"input":hl(e,i),l=Mi(e,i),ve("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=q({},i,{value:void 0}),ve("invalid",e);break;case"textarea":ml(e,i),l=Wi(e,i),ve("invalid",e);break;default:l=i}Hi(r,l),w=l;for(d in w)if(w.hasOwnProperty(d)){var x=w[d];d==="style"?_l(e,x):d==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&wl(e,x)):d==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&kn(e,x):typeof x=="number"&&kn(e,""+x):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?x!=null&&d==="onScroll"&&ve("scroll",e):x!=null&&P(e,d,x,m))}switch(r){case"input":vs(e),pl(e,i,!1);break;case"textarea":vs(e),yl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+he(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Ar(e,!!i.multiple,d,!1):i.defaultValue!=null&&Ar(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Bs)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Rc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(r=wr(Qn.current),wr(Ot.current),Js(t)){if(i=t.stateNode,r=t.memoizedProps,i[Pt]=t,(d=i.nodeValue!==r)&&(e=ot,e!==null))switch(e.tag){case 3:Fs(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(i.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Pt]=t,t.stateNode=i}return He(t),null;case 13:if(we(ke),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&at!==null&&(t.mode&1)!==0&&(t.flags&128)===0)$u(),Gr(),t.flags|=98560,d=!1;else if(d=Js(t),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Pt]=t}else Gr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),d=!1}else _t!==null&&(ka(_t),_t=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ke.current&1)!==0?$e===0&&($e=3):Ea())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Xr(),ha(e,t),e===null&&Wn(t.stateNode.containerInfo),He(t),null;case 10:return Mo(t.type._context),He(t),null;case 17:return Ye(t.type)&&qs(),He(t),null;case 19:if(we(ke),d=t.memoizedState,d===null)return He(t),null;if(i=(t.flags&128)!==0,m=d.rendering,m===null)if(i)ts(d,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=ti(e),m!==null){for(t.flags|=128,ts(d,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)d=r,e=i,d.flags&=14680066,m=d.alternate,m===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=m.childLanes,d.lanes=m.lanes,d.child=m.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=m.memoizedProps,d.memoizedState=m.memoizedState,d.updateQueue=m.updateQueue,d.type=m.type,e=m.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ge(ke,ke.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ne()>rn&&(t.flags|=128,i=!0,ts(d,!1),t.lanes=4194304)}else{if(!i)if(e=ti(m),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ts(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!be)return He(t),null}else 2*Ne()-d.renderingStartTime>rn&&r!==1073741824&&(t.flags|=128,i=!0,ts(d,!1),t.lanes=4194304);d.isBackwards?(m.sibling=t.child,t.child=m):(r=d.last,r!==null?r.sibling=m:t.child=m,d.last=m)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ne(),t.sibling=null,r=ke.current,ge(ke,i?r&1|2:r&1),t):(He(t),null);case 22:case 23:return ja(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(lt&1073741824)!==0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Vf(e,t){switch(Io(t),t.tag){case 1:return Ye(t.type)&&qs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),we(Qe),we(We),Ko(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ho(t),null;case 13:if(we(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ke),null;case 4:return Xr(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return ja(),null;case 24:return null;default:return null}}var ci=!1,Ve=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,W=null;function en(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Ee(e,t,i)}else r.current=null}function fa(e,t,r){try{r()}catch(i){Ee(e,t,i)}}var Ac=!1;function Gf(e,t){if(jo=Ps,e=du(),yo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var l=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var m=0,w=-1,x=-1,T=0,D=0,U=e,$=null;t:for(;;){for(var B;U!==r||l!==0&&U.nodeType!==3||(w=m+l),U!==d||i!==0&&U.nodeType!==3||(x=m+i),U.nodeType===3&&(m+=U.nodeValue.length),(B=U.firstChild)!==null;)$=U,U=B;for(;;){if(U===e)break t;if($===r&&++T===l&&(w=m),$===d&&++D===i&&(x=m),(B=U.nextSibling)!==null)break;U=$,$=U.parentNode}U=B}r=w===-1||x===-1?null:{start:w,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eo={focusedElem:e,selectionRange:r},Ps=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var V=H.memoizedProps,Ce=H.memoizedState,S=t.stateNode,b=S.getSnapshotBeforeUpdate(t.elementType===t.type?V:bt(t.type,V),Ce);S.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(z){Ee(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return H=Ac,Ac=!1,H}function rs(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&fa(t,r,d)}l=l.next}while(l!==i)}}function di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function pa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ic(e){var t=e.alternate;t!==null&&(e.alternate=null,Ic(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[Hn],delete t[Po],delete t[Pf],delete t[Of])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $c(e){return e.tag===5||e.tag===3||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$c(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ma(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bs));else if(i!==4&&(e=e.child,e!==null))for(ma(e,t,r),e=e.sibling;e!==null;)ma(e,t,r),e=e.sibling}function ga(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ga(e,t,r),e=e.sibling;e!==null;)ga(e,t,r),e=e.sibling}var Fe=null,kt=!1;function rr(e,t,r){for(r=r.child;r!==null;)Dc(e,t,r),r=r.sibling}function Dc(e,t,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ss,r)}catch{}switch(r.tag){case 5:Ve||en(r,t);case 6:var i=Fe,l=kt;Fe=null,rr(e,t,r),Fe=i,kt=l,Fe!==null&&(kt?(e=Fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fe.removeChild(r.stateNode));break;case 18:Fe!==null&&(kt?(e=Fe,r=r.stateNode,e.nodeType===8?To(e.parentNode,r):e.nodeType===1&&To(e,r),In(e)):To(Fe,r.stateNode));break;case 4:i=Fe,l=kt,Fe=r.stateNode.containerInfo,kt=!0,rr(e,t,r),Fe=i,kt=l;break;case 0:case 11:case 14:case 15:if(!Ve&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var d=l,m=d.destroy;d=d.tag,m!==void 0&&((d&2)!==0||(d&4)!==0)&&fa(r,t,m),l=l.next}while(l!==i)}rr(e,t,r);break;case 1:if(!Ve&&(en(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Ee(r,t,w)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(Ve=(i=Ve)||r.memoizedState!==null,rr(e,t,r),Ve=i):rr(e,t,r);break;default:rr(e,t,r)}}function Uc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kf),t.forEach(function(i){var l=np.bind(null,e,i);r.has(i)||(r.add(i),i.then(l,l))})}}function St(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var l=r[i];try{var d=e,m=t,w=m;e:for(;w!==null;){switch(w.tag){case 5:Fe=w.stateNode,kt=!1;break e;case 3:Fe=w.stateNode.containerInfo,kt=!0;break e;case 4:Fe=w.stateNode.containerInfo,kt=!0;break e}w=w.return}if(Fe===null)throw Error(s(160));Dc(d,m,l),Fe=null,kt=!1;var x=l.alternate;x!==null&&(x.return=null),l.return=null}catch(T){Ee(l,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zc(t,e),t=t.sibling}function zc(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(St(t,e),At(e),i&4){try{rs(3,e,e.return),di(3,e)}catch(V){Ee(e,e.return,V)}try{rs(5,e,e.return)}catch(V){Ee(e,e.return,V)}}break;case 1:St(t,e),At(e),i&512&&r!==null&&en(r,r.return);break;case 5:if(St(t,e),At(e),i&512&&r!==null&&en(r,r.return),e.flags&32){var l=e.stateNode;try{kn(l,"")}catch(V){Ee(e,e.return,V)}}if(i&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,m=r!==null?r.memoizedProps:d,w=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&fl(l,d),Vi(w,m);var T=Vi(w,d);for(m=0;m<x.length;m+=2){var D=x[m],U=x[m+1];D==="style"?_l(l,U):D==="dangerouslySetInnerHTML"?wl(l,U):D==="children"?kn(l,U):P(l,D,U,T)}switch(w){case"input":Fi(l,d);break;case"textarea":gl(l,d);break;case"select":var $=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var B=d.value;B!=null?Ar(l,!!d.multiple,B,!1):$!==!!d.multiple&&(d.defaultValue!=null?Ar(l,!!d.multiple,d.defaultValue,!0):Ar(l,!!d.multiple,d.multiple?[]:"",!1))}l[Hn]=d}catch(V){Ee(e,e.return,V)}}break;case 6:if(St(t,e),At(e),i&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(V){Ee(e,e.return,V)}}break;case 3:if(St(t,e),At(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{In(t.containerInfo)}catch(V){Ee(e,e.return,V)}break;case 4:St(t,e),At(e);break;case 13:St(t,e),At(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(wa=Ne())),i&4&&Uc(e);break;case 22:if(D=r!==null&&r.memoizedState!==null,e.mode&1?(Ve=(T=Ve)||D,St(t,e),Ve=T):St(t,e),At(e),i&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!D&&(e.mode&1)!==0)for(W=e,D=e.child;D!==null;){for(U=W=D;W!==null;){switch($=W,B=$.child,$.tag){case 0:case 11:case 14:case 15:rs(4,$,$.return);break;case 1:en($,$.return);var H=$.stateNode;if(typeof H.componentWillUnmount=="function"){i=$,r=$.return;try{t=i,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(V){Ee(i,r,V)}}break;case 5:en($,$.return);break;case 22:if($.memoizedState!==null){Bc(U);continue}}B!==null?(B.return=$,W=B):Bc(U)}D=D.sibling}e:for(D=null,U=e;;){if(U.tag===5){if(D===null){D=U;try{l=U.stateNode,T?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=U.stateNode,x=U.memoizedProps.style,m=x!=null&&x.hasOwnProperty("display")?x.display:null,w.style.display=xl("display",m))}catch(V){Ee(e,e.return,V)}}}else if(U.tag===6){if(D===null)try{U.stateNode.nodeValue=T?"":U.memoizedProps}catch(V){Ee(e,e.return,V)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;D===U&&(D=null),U=U.return}D===U&&(D=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:St(t,e),At(e),i&4&&Uc(e);break;case 21:break;default:St(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($c(r)){var i=r;break e}r=r.return}throw Error(s(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(kn(l,""),i.flags&=-33);var d=Lc(e);ga(e,d,l);break;case 3:case 4:var m=i.stateNode.containerInfo,w=Lc(e);ma(e,w,m);break;default:throw Error(s(161))}}catch(x){Ee(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jf(e,t,r){W=e,Mc(e)}function Mc(e,t,r){for(var i=(e.mode&1)!==0;W!==null;){var l=W,d=l.child;if(l.tag===22&&i){var m=l.memoizedState!==null||ci;if(!m){var w=l.alternate,x=w!==null&&w.memoizedState!==null||Ve;w=ci;var T=Ve;if(ci=m,(Ve=x)&&!T)for(W=l;W!==null;)m=W,x=m.child,m.tag===22&&m.memoizedState!==null?Wc(l):x!==null?(x.return=m,W=x):Wc(l);for(;d!==null;)W=d,Mc(d),d=d.sibling;W=l,ci=w,Ve=T}Fc(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,W=d):Fc(e)}}function Fc(e){for(;W!==null;){var t=W;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ve||di(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ve)if(r===null)i.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);i.componentDidUpdate(l,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Bu(t,d,i);break;case 3:var m=t.updateQueue;if(m!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Bu(t,m,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var D=T.memoizedState;if(D!==null){var U=D.dehydrated;U!==null&&In(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ve||t.flags&512&&pa(t)}catch($){Ee(t,t.return,$)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Bc(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Wc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{di(4,t)}catch(x){Ee(t,r,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(x){Ee(t,l,x)}}var d=t.return;try{pa(t)}catch(x){Ee(t,d,x)}break;case 5:var m=t.return;try{pa(t)}catch(x){Ee(t,m,x)}}}catch(x){Ee(t,t.return,x)}if(t===e){W=null;break}var w=t.sibling;if(w!==null){w.return=t.return,W=w;break}W=t.return}}var Qf=Math.ceil,hi=M.ReactCurrentDispatcher,ya=M.ReactCurrentOwner,mt=M.ReactCurrentBatchConfig,ae=0,Ue=null,Pe=null,Be=0,lt=0,tn=Yt(0),$e=0,ns=null,_r=0,fi=0,va=0,ss=null,Ze=null,wa=0,rn=1/0,Bt=null,pi=!1,xa=null,nr=null,mi=!1,sr=null,gi=0,is=0,_a=null,yi=-1,vi=0;function Ge(){return(ae&6)!==0?Ne():yi!==-1?yi:yi=Ne()}function ir(e){return(e.mode&1)===0?1:(ae&2)!==0&&Be!==0?Be&-Be:Af.transition!==null?(vi===0&&(vi=Ll()),vi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Hl(e.type)),e)}function jt(e,t,r,i){if(50<is)throw is=0,_a=null,Error(s(185));Tn(e,r,i),((ae&2)===0||e!==Ue)&&(e===Ue&&((ae&2)===0&&(fi|=r),$e===4&&or(e,Be)),et(e,i),r===1&&ae===0&&(t.mode&1)===0&&(rn=Ne()+500,Vs&&Zt()))}function et(e,t){var r=e.callbackNode;Rh(e,t);var i=Ns(e,e===Ue?Be:0);if(i===0)r!==null&&Al(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Al(r),t===1)e.tag===0?Rf(Hc.bind(null,e)):Pu(Hc.bind(null,e)),Cf(function(){(ae&6)===0&&Zt()}),r=null;else{switch(Dl(i)){case 1:r=Zi;break;case 4:r=Il;break;case 16:r=ks;break;case 536870912:r=$l;break;default:r=ks}r=Zc(r,qc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qc(e,t){if(yi=-1,vi=0,(ae&6)!==0)throw Error(s(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var i=Ns(e,e===Ue?Be:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=wi(e,i);else{t=i;var l=ae;ae|=2;var d=Kc();(Ue!==e||Be!==t)&&(Bt=null,rn=Ne()+500,kr(e,t));do try{Zf();break}catch(w){Vc(e,w)}while(!0);zo(),hi.current=d,ae=l,Pe!==null?t=0:(Ue=null,Be=0,t=$e)}if(t!==0){if(t===2&&(l=eo(e),l!==0&&(i=l,t=ba(e,l))),t===1)throw r=ns,kr(e,0),or(e,i),et(e,Ne()),r;if(t===6)or(e,i);else{if(l=e.current.alternate,(i&30)===0&&!Yf(l)&&(t=wi(e,i),t===2&&(d=eo(e),d!==0&&(i=d,t=ba(e,d))),t===1))throw r=ns,kr(e,0),or(e,i),et(e,Ne()),r;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Sr(e,Ze,Bt);break;case 3:if(or(e,i),(i&130023424)===i&&(t=wa+500-Ne(),10<t)){if(Ns(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){Ge(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Co(Sr.bind(null,e,Ze,Bt),t);break}Sr(e,Ze,Bt);break;case 4:if(or(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var m=31-wt(i);d=1<<m,m=t[m],m>l&&(l=m),i&=~d}if(i=l,i=Ne()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Qf(i/1960))-i,10<i){e.timeoutHandle=Co(Sr.bind(null,e,Ze,Bt),i);break}Sr(e,Ze,Bt);break;case 5:Sr(e,Ze,Bt);break;default:throw Error(s(329))}}}return et(e,Ne()),e.callbackNode===r?qc.bind(null,e):null}function ba(e,t){var r=ss;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&ka(t)),e}function ka(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Yf(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var l=r[i],d=l.getSnapshot;l=l.value;try{if(!xt(d(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function or(e,t){for(t&=~va,t&=~fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wt(t),i=1<<r;e[r]=-1,t&=~i}}function Hc(e){if((ae&6)!==0)throw Error(s(327));nn();var t=Ns(e,0);if((t&1)===0)return et(e,Ne()),null;var r=wi(e,t);if(e.tag!==0&&r===2){var i=eo(e);i!==0&&(t=i,r=ba(e,i))}if(r===1)throw r=ns,kr(e,0),or(e,t),et(e,Ne()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sr(e,Ze,Bt),et(e,Ne()),null}function Sa(e,t){var r=ae;ae|=1;try{return e(t)}finally{ae=r,ae===0&&(rn=Ne()+500,Vs&&Zt())}}function br(e){sr!==null&&sr.tag===0&&(ae&6)===0&&nn();var t=ae;ae|=1;var r=mt.transition,i=fe;try{if(mt.transition=null,fe=1,e)return e()}finally{fe=i,mt.transition=r,ae=t,(ae&6)===0&&Zt()}}function ja(){lt=tn.current,we(tn)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nf(r)),Pe!==null)for(r=Pe.return;r!==null;){var i=r;switch(Io(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&qs();break;case 3:Xr(),we(Qe),we(We),Ko();break;case 5:Ho(i);break;case 4:Xr();break;case 13:we(ke);break;case 19:we(ke);break;case 10:Mo(i.type._context);break;case 22:case 23:ja()}r=r.return}if(Ue=e,Pe=e=ar(e.current,null),Be=lt=t,$e=0,ns=null,va=fi=_r=0,Ze=ss=null,vr!==null){for(t=0;t<vr.length;t++)if(r=vr[t],i=r.interleaved,i!==null){r.interleaved=null;var l=i.next,d=r.pending;if(d!==null){var m=d.next;d.next=l,i.next=m}r.pending=i}vr=null}return e}function Vc(e,t){do{var r=Pe;try{if(zo(),ri.current=oi,ni){for(var i=Se.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}ni=!1}if(xr=0,De=Ie=Se=null,Yn=!1,Xn=0,ya.current=null,r===null||r.return===null){$e=1,ns=t,Pe=null;break}e:{var d=e,m=r.return,w=r,x=t;if(t=Be,w.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var T=x,D=w,U=D.tag;if((D.mode&1)===0&&(U===0||U===11||U===15)){var $=D.alternate;$?(D.updateQueue=$.updateQueue,D.memoizedState=$.memoizedState,D.lanes=$.lanes):(D.updateQueue=null,D.memoizedState=null)}var B=yc(m);if(B!==null){B.flags&=-257,vc(B,m,w,d,t),B.mode&1&&gc(d,T,t),t=B,x=T;var H=t.updateQueue;if(H===null){var V=new Set;V.add(x),t.updateQueue=V}else H.add(x);break e}else{if((t&1)===0){gc(d,T,t),Ea();break e}x=Error(s(426))}}else if(be&&w.mode&1){var Ce=yc(m);if(Ce!==null){(Ce.flags&65536)===0&&(Ce.flags|=256),vc(Ce,m,w,d,t),Do(Zr(x,w));break e}}d=x=Zr(x,w),$e!==4&&($e=2),ss===null?ss=[d]:ss.push(d),d=m;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var S=pc(d,x,t);Fu(d,S);break e;case 1:w=x;var b=d.type,E=d.stateNode;if((d.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(nr===null||!nr.has(E)))){d.flags|=65536,t&=-t,d.lanes|=t;var z=mc(d,w,t);Fu(d,z);break e}}d=d.return}while(d!==null)}Jc(r)}catch(K){t=K,Pe===r&&r!==null&&(Pe=r=r.return);continue}break}while(!0)}function Kc(){var e=hi.current;return hi.current=oi,e===null?oi:e}function Ea(){($e===0||$e===3||$e===2)&&($e=4),Ue===null||(_r&268435455)===0&&(fi&268435455)===0||or(Ue,Be)}function wi(e,t){var r=ae;ae|=2;var i=Kc();(Ue!==e||Be!==t)&&(Bt=null,kr(e,t));do try{Xf();break}catch(l){Vc(e,l)}while(!0);if(zo(),ae=r,hi.current=i,Pe!==null)throw Error(s(261));return Ue=null,Be=0,$e}function Xf(){for(;Pe!==null;)Gc(Pe)}function Zf(){for(;Pe!==null&&!kh();)Gc(Pe)}function Gc(e){var t=Xc(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Jc(e):Pe=t,ya.current=null}function Jc(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Hf(r,t,lt),r!==null){Pe=r;return}}else{if(r=Vf(r,t),r!==null){r.flags&=32767,Pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Pe=null;return}}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);$e===0&&($e=5)}function Sr(e,t,r){var i=fe,l=mt.transition;try{mt.transition=null,fe=1,ep(e,t,r,i)}finally{mt.transition=l,fe=i}return null}function ep(e,t,r,i){do nn();while(sr!==null);if((ae&6)!==0)throw Error(s(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Ah(e,d),e===Ue&&(Pe=Ue=null,Be=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||mi||(mi=!0,Zc(ks,function(){return nn(),null})),d=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||d){d=mt.transition,mt.transition=null;var m=fe;fe=1;var w=ae;ae|=4,ya.current=null,Gf(e,r),zc(r,e),xf(Eo),Ps=!!jo,Eo=jo=null,e.current=r,Jf(r),Sh(),ae=w,fe=m,mt.transition=d}else e.current=r;if(mi&&(mi=!1,sr=e,gi=l),d=e.pendingLanes,d===0&&(nr=null),Nh(r.stateNode),et(e,Ne()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],i(l.value,{componentStack:l.stack,digest:l.digest});if(pi)throw pi=!1,e=xa,xa=null,e;return(gi&1)!==0&&e.tag!==0&&nn(),d=e.pendingLanes,(d&1)!==0?e===_a?is++:(is=0,_a=e):is=0,Zt(),null}function nn(){if(sr!==null){var e=Dl(gi),t=mt.transition,r=fe;try{if(mt.transition=null,fe=16>e?16:e,sr===null)var i=!1;else{if(e=sr,sr=null,gi=0,(ae&6)!==0)throw Error(s(331));var l=ae;for(ae|=4,W=e.current;W!==null;){var d=W,m=d.child;if((W.flags&16)!==0){var w=d.deletions;if(w!==null){for(var x=0;x<w.length;x++){var T=w[x];for(W=T;W!==null;){var D=W;switch(D.tag){case 0:case 11:case 15:rs(8,D,d)}var U=D.child;if(U!==null)U.return=D,W=U;else for(;W!==null;){D=W;var $=D.sibling,B=D.return;if(Ic(D),D===T){W=null;break}if($!==null){$.return=B,W=$;break}W=B}}}var H=d.alternate;if(H!==null){var V=H.child;if(V!==null){H.child=null;do{var Ce=V.sibling;V.sibling=null,V=Ce}while(V!==null)}}W=d}}if((d.subtreeFlags&2064)!==0&&m!==null)m.return=d,W=m;else e:for(;W!==null;){if(d=W,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:rs(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,W=S;break e}W=d.return}}var b=e.current;for(W=b;W!==null;){m=W;var E=m.child;if((m.subtreeFlags&2064)!==0&&E!==null)E.return=m,W=E;else e:for(m=b;W!==null;){if(w=W,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:di(9,w)}}catch(K){Ee(w,w.return,K)}if(w===m){W=null;break e}var z=w.sibling;if(z!==null){z.return=w.return,W=z;break e}W=w.return}}if(ae=l,Zt(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ss,e)}catch{}i=!0}return i}finally{fe=r,mt.transition=t}}return!1}function Qc(e,t,r){t=Zr(r,t),t=pc(e,t,1),e=tr(e,t,1),t=Ge(),e!==null&&(Tn(e,1,t),et(e,t))}function Ee(e,t,r){if(e.tag===3)Qc(e,e,r);else for(;t!==null;){if(t.tag===3){Qc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(nr===null||!nr.has(i))){e=Zr(r,e),e=mc(t,e,1),t=tr(t,e,1),e=Ge(),t!==null&&(Tn(t,1,e),et(t,e));break}}t=t.return}}function tp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&r,Ue===e&&(Be&r)===r&&($e===4||$e===3&&(Be&130023424)===Be&&500>Ne()-wa?kr(e,0):va|=r),et(e,t)}function Yc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Es,Es<<=1,(Es&130023424)===0&&(Es=4194304)));var r=Ge();e=zt(e,t),e!==null&&(Tn(e,t,r),et(e,r))}function rp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Yc(e,r)}function np(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Yc(e,r)}var Xc;Xc=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Xe=!1,qf(e,t,r);Xe=(e.flags&131072)!==0}else Xe=!1,be&&(t.flags&1048576)!==0&&Ou(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ui(e,t),e=t.pendingProps;var l=Hr(t,We.current);Yr(t,r),l=Qo(null,t,i,e,l,r);var d=Yo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(i)?(d=!0,Hs(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Wo(t),l.updater=ai,t.stateNode=l,l._reactInternals=t,na(t,i,e,r),t=aa(null,t,i,!0,d,r)):(t.tag=0,be&&d&&Ao(t),Ke(null,t,l,r),t=t.child),t;case 16:i=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=ip(i),e=bt(i,e),l){case 0:t=oa(null,t,i,e,r);break e;case 1:t=Sc(null,t,i,e,r);break e;case 11:t=wc(null,t,i,e,r);break e;case 14:t=xc(null,t,i,bt(i.type,e),r);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:bt(i,l),oa(e,t,i,l,r);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:bt(i,l),Sc(e,t,i,l,r);case 3:e:{if(jc(t),e===null)throw Error(s(387));i=t.pendingProps,d=t.memoizedState,l=d.element,Mu(e,t),ei(t,i,null,r);var m=t.memoizedState;if(i=m.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=Zr(Error(s(423)),t),t=Ec(e,t,i,r,l);break e}else if(i!==l){l=Zr(Error(s(424)),t),t=Ec(e,t,i,r,l);break e}else for(at=Qt(t.stateNode.containerInfo.firstChild),ot=t,be=!0,_t=null,r=Uu(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),i===l){t=Ft(e,t,r);break e}Ke(e,t,i,r)}t=t.child}return t;case 5:return Wu(t),e===null&&Lo(t),i=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,m=l.children,No(i,l)?m=null:d!==null&&No(i,d)&&(t.flags|=32),kc(e,t),Ke(e,t,m,r),t.child;case 6:return e===null&&Lo(t),null;case 13:return Nc(e,t,r);case 4:return qo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Jr(t,null,i,r):Ke(e,t,i,r),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:bt(i,l),wc(e,t,i,l,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,d=t.memoizedProps,m=l.value,ge(Ys,i._currentValue),i._currentValue=m,d!==null)if(xt(d.value,m)){if(d.children===l.children&&!Qe.current){t=Ft(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var w=d.dependencies;if(w!==null){m=d.child;for(var x=w.firstContext;x!==null;){if(x.context===i){if(d.tag===1){x=Mt(-1,r&-r),x.tag=2;var T=d.updateQueue;if(T!==null){T=T.shared;var D=T.pending;D===null?x.next=x:(x.next=D.next,D.next=x),T.pending=x}}d.lanes|=r,x=d.alternate,x!==null&&(x.lanes|=r),Fo(d.return,r,t),w.lanes|=r;break}x=x.next}}else if(d.tag===10)m=d.type===t.type?null:d.child;else if(d.tag===18){if(m=d.return,m===null)throw Error(s(341));m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Fo(m,r,t),m=d.sibling}else m=d.child;if(m!==null)m.return=d;else for(m=d;m!==null;){if(m===t){m=null;break}if(d=m.sibling,d!==null){d.return=m.return,m=d;break}m=m.return}d=m}Ke(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Yr(t,r),l=ft(l),i=i(l),t.flags|=1,Ke(e,t,i,r),t.child;case 14:return i=t.type,l=bt(i,t.pendingProps),l=bt(i.type,l),xc(e,t,i,l,r);case 15:return _c(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:bt(i,l),ui(e,t),t.tag=1,Ye(i)?(e=!0,Hs(t)):e=!1,Yr(t,r),hc(t,i,l),na(t,i,l,r),aa(null,t,i,!0,e,r);case 19:return Tc(e,t,r);case 22:return bc(e,t,r)}throw Error(s(156,t.tag))};function Zc(e,t){return Rl(e,t)}function sp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,i){return new sp(e,t,r,i)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ip(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ct)return 11;if(e===Ct)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xi(e,t,r,i,l,d){var m=2;if(i=e,typeof e=="function")Na(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ne:return jr(r.children,l,d,t);case de:m=8,l|=8;break;case xe:return e=gt(12,r,t,l|2),e.elementType=xe,e.lanes=d,e;case nt:return e=gt(13,r,t,l),e.elementType=nt,e.lanes=d,e;case vt:return e=gt(19,r,t,l),e.elementType=vt,e.lanes=d,e;case je:return _i(r,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:m=10;break e;case Ae:m=9;break e;case ct:m=11;break e;case Ct:m=14;break e;case Je:m=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=gt(m,r,t,l),t.elementType=e,t.type=i,t.lanes=d,t}function jr(e,t,r,i){return e=gt(7,e,i,t),e.lanes=r,e}function _i(e,t,r,i){return e=gt(22,e,i,t),e.elementType=je,e.lanes=r,e.stateNode={isHidden:!1},e}function Ca(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function Ta(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function op(e,t,r,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Pa(e,t,r,i,l,d,m,w,x){return e=new op(e,t,r,w,x),t===1?(t=1,d===!0&&(t|=8)):t=0,d=gt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wo(d),e}function ap(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function ed(e){if(!e)return Xt;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(Ye(r))return Cu(e,r,t)}return t}function td(e,t,r,i,l,d,m,w,x){return e=Pa(r,i,!0,e,l,d,m,w,x),e.context=ed(null),r=e.current,i=Ge(),l=ir(r),d=Mt(i,l),d.callback=t??null,tr(r,d,l),e.current.lanes=l,Tn(e,l,i),et(e,i),e}function bi(e,t,r,i){var l=t.current,d=Ge(),m=ir(l);return r=ed(r),t.context===null?t.context=r:t.pendingContext=r,t=Mt(d,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=tr(l,t,m),e!==null&&(jt(e,l,m,d),Zs(e,l,m)),m}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Oa(e,t){rd(e,t),(e=e.alternate)&&rd(e,t)}function lp(){return null}var nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ra(e){this._internalRoot=e}Si.prototype.render=Ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));bi(e,t,null,null)},Si.prototype.unmount=Ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){bi(null,e,null,null)}),t[$t]=null}};function Si(e){this._internalRoot=e}Si.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ml();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kt.length&&t!==0&&t<Kt[r].priority;r++);Kt.splice(r,0,e),r===0&&Wl(e)}};function Aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sd(){}function up(e,t,r,i,l){if(l){if(typeof i=="function"){var d=i;i=function(){var T=ki(m);d.call(T)}}var m=td(t,i,e,0,null,!1,!1,"",sd);return e._reactRootContainer=m,e[$t]=m.current,Wn(e.nodeType===8?e.parentNode:e),br(),m}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var w=i;i=function(){var T=ki(x);w.call(T)}}var x=Pa(e,0,!1,null,null,!1,!1,"",sd);return e._reactRootContainer=x,e[$t]=x.current,Wn(e.nodeType===8?e.parentNode:e),br(function(){bi(t,x,r,i)}),x}function Ei(e,t,r,i,l){var d=r._reactRootContainer;if(d){var m=d;if(typeof l=="function"){var w=l;l=function(){var x=ki(m);w.call(x)}}bi(t,m,e,l)}else m=up(r,t,e,l,i);return ki(m)}Ul=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cn(t.pendingLanes);r!==0&&(ro(t,r|1),et(t,Ne()),(ae&6)===0&&(rn=Ne()+500,Zt()))}break;case 13:br(function(){var i=zt(e,1);if(i!==null){var l=Ge();jt(i,e,1,l)}}),Oa(e,1)}},no=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var r=Ge();jt(t,e,134217728,r)}Oa(e,134217728)}},zl=function(e){if(e.tag===13){var t=ir(e),r=zt(e,t);if(r!==null){var i=Ge();jt(r,e,t,i)}Oa(e,t)}},Ml=function(){return fe},Fl=function(e,t){var r=fe;try{return fe=e,t()}finally{fe=r}},Ji=function(e,t,r){switch(t){case"input":if(Fi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var l=Ws(i);if(!l)throw Error(s(90));dl(i),Fi(i,l)}}}break;case"textarea":gl(e,r);break;case"select":t=r.value,t!=null&&Ar(e,!!r.multiple,t,!1)}},jl=Sa,El=br;var cp={usingClientEntryPoint:!1,Events:[Vn,Wr,Ws,kl,Sl,Sa]},os={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dp={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pl(e),e===null?null:e.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||lp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ni=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ni.isDisabled&&Ni.supportsFiber)try{Ss=Ni.inject(dp),Tt=Ni}catch{}}return tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cp,tt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aa(t))throw Error(s(200));return ap(e,t,null,r)},tt.createRoot=function(e,t){if(!Aa(e))throw Error(s(299));var r=!1,i="",l=nd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Pa(e,1,!1,null,null,r,!1,i,l),e[$t]=t.current,Wn(e.nodeType===8?e.parentNode:e),new Ra(t)},tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Pl(t),e=e===null?null:e.stateNode,e},tt.flushSync=function(e){return br(e)},tt.hydrate=function(e,t,r){if(!ji(t))throw Error(s(200));return Ei(null,e,t,!0,r)},tt.hydrateRoot=function(e,t,r){if(!Aa(e))throw Error(s(405));var i=r!=null&&r.hydratedSources||null,l=!1,d="",m=nd;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),t=td(t,null,e,1,r??null,l,!1,d,m),e[$t]=t.current,Wn(e),i)for(e=0;e<i.length;e++)r=i[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new Si(t)},tt.render=function(e,t,r){if(!ji(t))throw Error(s(200));return Ei(null,e,t,!1,r)},tt.unmountComponentAtNode=function(e){if(!ji(e))throw Error(s(40));return e._reactRootContainer?(br(function(){Ei(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1},tt.unstable_batchedUpdates=Sa,tt.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!ji(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ei(e,t,r,!1,i)},tt.version="18.3.1-next-f1338f8080-20240426",tt}var hd;function _p(){if(hd)return La.exports;hd=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),La.exports=xp(),La.exports}var fd;function bp(){if(fd)return Ci;fd=1;var u=_p();return Ci.createRoot=u.createRoot,Ci.hydrateRoot=u.hydrateRoot,Ci}var kp=bp();const Sp="modulepreload",jp=function(u){return"/property-solutions/"+u},pd={},gs=function(n,s,o){let a=Promise.resolve();if(s&&s.length>0){let y=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};var f=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");a=y(s.map(v=>{if(v=jp(v),v in pd)return;pd[v]=!0;const _=v.endsWith(".css"),N=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${N}`))return;const O=document.createElement("link");if(O.rel=_?"stylesheet":Sp,_||(O.as="script"),O.crossOrigin="",O.href=v,g&&O.setAttribute("nonce",g),document.head.appendChild(O),_)return new Promise((I,R)=>{O.addEventListener("load",I),O.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return a.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return n().catch(c)})},Ep=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>gs(async()=>{const{default:o}=await Promise.resolve().then(()=>xn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class al extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class md extends al{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class gd extends al{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class yd extends al{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ja;(function(u){u.Any="any",u.ApNortheast1="ap-northeast-1",u.ApNortheast2="ap-northeast-2",u.ApSouth1="ap-south-1",u.ApSoutheast1="ap-southeast-1",u.ApSoutheast2="ap-southeast-2",u.CaCentral1="ca-central-1",u.EuCentral1="eu-central-1",u.EuWest1="eu-west-1",u.EuWest2="eu-west-2",u.EuWest3="eu-west-3",u.SaEast1="sa-east-1",u.UsEast1="us-east-1",u.UsWest1="us-west-1",u.UsWest2="us-west-2"})(Ja||(Ja={}));var Np=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};class Cp{constructor(n,{headers:s={},customFetch:o,region:a=Ja.Any}={}){this.url=n,this.headers=s,this.region=a,this.fetch=Ep(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Np(this,arguments,void 0,function*(s,o={}){var a;try{const{headers:c,method:f,body:p,signal:g}=o;let y={},{region:v}=o;v||(v=this.region);const _=new URL(`${this.url}/${s}`);v&&v!=="any"&&(y["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let N;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(y["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(y["Content-Type"]="application/json",N=JSON.stringify(p)));const O=yield this.fetch(_.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:N,signal:g}).catch(C=>{throw C.name==="AbortError"?C:new md(C)}),I=O.headers.get("x-relay-error");if(I&&I==="true")throw new gd(O);if(!O.ok)throw new yd(O);let R=((a=O.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return R==="application/json"?j=yield O.json():R==="application/octet-stream"?j=yield O.blob():R==="text/event-stream"?j=O:R==="multipart/form-data"?j=yield O.formData():j=yield O.text(),{data:j,error:null,response:O}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new md(c)}:{data:null,error:c,response:c instanceof yd||c instanceof gd?c.context:void 0}}})}}var Me={},sn={},on={},an={},ln={},un={},Tp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wn=Tp();const Pp=wn.fetch,Hd=wn.fetch.bind(wn),Vd=wn.Headers,Op=wn.Request,Rp=wn.Response,xn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vd,Request:Op,Response:Rp,default:Hd,fetch:Pp},Symbol.toStringTag,{value:"Module"})),Ap=fp(xn);var Ti={},vd;function Kd(){if(vd)return Ti;vd=1,Object.defineProperty(Ti,"__esModule",{value:!0});class u extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ti.default=u,Ti}var wd;function Gd(){if(wd)return un;wd=1;var u=un&&un.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(un,"__esModule",{value:!0});const n=u(Ap),s=u(Kd());class o{constructor(c){var f,p;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(f=c.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=c.signal,this.isMaybeSingle=(p=c.isMaybeSingle)!==null&&p!==void 0?p:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=new Headers(this.headers),this.headers.set(c,f),this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,_,N,O;let I=null,R=null,j=null,C=y.status,A=y.statusText;if(y.ok){if(this.method!=="HEAD"){const G=await y.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?R=G:R=JSON.parse(G))}const M=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),Z=(N=y.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");M&&Z&&Z.length>1&&(j=parseInt(Z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(I={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,j=null,C=406,A="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const M=await y.text();try{I=JSON.parse(M),Array.isArray(I)&&y.status===404&&(R=[],I=null,C=200,A="OK")}catch{y.status===404&&M===""?(C=204,A="No Content"):I={message:M}}if(I&&this.isMaybeSingle&&(!((O=I?.details)===null||O===void 0)&&O.includes("0 rows"))&&(I=null,C=200,A="OK"),I&&this.shouldThrowOnError)throw new s.default(I)}return{error:I,data:R,count:j,status:C,statusText:A}});return this.shouldThrowOnError||(g=g.catch(y=>{var v,_,N;return{error:{message:`${(v=y?.name)!==null&&v!==void 0?v:"FetchError"}: ${y?.message}`,details:`${(_=y?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(N=y?.code)!==null&&N!==void 0?N:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,f)}returns(){return this}overrideTypes(){return this}}return un.default=o,un}var xd;function Jd(){if(xd)return ln;xd=1;var u=ln&&ln.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ln,"__esModule",{value:!0});const n=u(Gd());class s extends n.default{select(a){let c=!1;const f=(a??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${a}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this}range(a,c,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(y,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:y="text"}={}){var v;const _=[a?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),N=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${N}"; options=${_};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ln.default=s,ln}var _d;function ll(){if(_d)return an;_d=1;var u=an&&an.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(an,"__esModule",{value:!0});const n=u(Jd());class s extends n.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(a,`in.(${f})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(a,`${g}fts${y}.${c}`),this}match(a){return Object.entries(a).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(a,c,f){return this.url.searchParams.append(a,`not.${c}.${f}`),this}or(a,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${a})`),this}filter(a,c,f){return this.url.searchParams.append(a,`${c}.${f}`),this}}return an.default=s,an}var bd;function Qd(){if(bd)return on;bd=1;var u=on&&on.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(on,"__esModule",{value:!0});const n=u(ll());class s{constructor(a,{headers:c={},schema:f,fetch:p}){this.url=a,this.headers=new Headers(c),this.schema=f,this.fetch=p}select(a,c){const{head:f=!1,count:p}=c??{},g=f?"HEAD":"GET";let y=!1;const v=(a??"*").split("").map(_=>/\s/.test(_)&&!y?"":(_==='"'&&(y=!y),_)).join("");return this.url.searchParams.set("select",v),p&&this.headers.append("Prefer",`count=${p}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:c,defaultToNull:f=!0}={}){var p;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(a,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var y;const v="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const _=a.reduce((N,O)=>N.concat(Object.keys(O)),[]);if(_.length>0){const N=[...new Set(_)].map(O=>`"${O}"`);this.url.searchParams.set("columns",N.join(","))}}return new n.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(a,{count:c}={}){var f;const p="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:a}={}){var c;const f="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return on.default=s,on}var kd;function Ip(){if(kd)return sn;kd=1;var u=sn&&sn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sn,"__esModule",{value:!0});const n=u(Qd()),s=u(ll());class o{constructor(c,{headers:f={},schema:p,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(c){const f=new URL(`${this.url}/${c}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:p=!1,get:g=!1,count:y}={}){var v;let _;const N=new URL(`${this.url}/rpc/${c}`);let O;p||g?(_=p?"HEAD":"GET",Object.entries(f).filter(([R,j])=>j!==void 0).map(([R,j])=>[R,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([R,j])=>{N.searchParams.append(R,j)})):(_="POST",O=f);const I=new Headers(this.headers);return y&&I.set("Prefer",`count=${y}`),new s.default({method:_,url:N,headers:I,schema:this.schemaName,body:O,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return sn.default=o,sn}var Sd;function $p(){if(Sd)return Me;Sd=1;var u=Me&&Me.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.PostgrestError=Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;const n=u(Ip());Me.PostgrestClient=n.default;const s=u(Qd());Me.PostgrestQueryBuilder=s.default;const o=u(ll());Me.PostgrestFilterBuilder=o.default;const a=u(Jd());Me.PostgrestTransformBuilder=a.default;const c=u(Gd());Me.PostgrestBuilder=c.default;const f=u(Kd());return Me.PostgrestError=f.default,Me.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:f.default},Me}var Lp=$p();const Dp=qd(Lp),{PostgrestClient:Up,PostgrestQueryBuilder:py,PostgrestFilterBuilder:my,PostgrestTransformBuilder:gy,PostgrestBuilder:yy,PostgrestError:vy}=Dp;class zp{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Mp="2.75.0",Fp=`realtime-js/${Mp}`,Bp="1.0.0",Qa=1e4,Wp=1e3,qp=100;var us;(function(u){u[u.connecting=0]="connecting",u[u.open=1]="open",u[u.closing=2]="closing",u[u.closed=3]="closed"})(us||(us={}));var Le;(function(u){u.closed="closed",u.errored="errored",u.joined="joined",u.joining="joining",u.leaving="leaving"})(Le||(Le={}));var Nt;(function(u){u.close="phx_close",u.error="phx_error",u.join="phx_join",u.reply="phx_reply",u.leave="phx_leave",u.access_token="access_token"})(Nt||(Nt={}));var Ya;(function(u){u.websocket="websocket"})(Ya||(Ya={}));var Tr;(function(u){u.Connecting="connecting",u.Open="open",u.Closing="closing",u.Closed="closed"})(Tr||(Tr={}));class Hp{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const a=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=o.decode(n.slice(f,f+a));f=f+a;const g=o.decode(n.slice(f,f+c));f=f+c;const y=JSON.parse(o.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:g,payload:y}}}class Yd{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(u){u.abstime="abstime",u.bool="bool",u.date="date",u.daterange="daterange",u.float4="float4",u.float8="float8",u.int2="int2",u.int4="int4",u.int4range="int4range",u.int8="int8",u.int8range="int8range",u.json="json",u.jsonb="jsonb",u.money="money",u.numeric="numeric",u.oid="oid",u.reltime="reltime",u.text="text",u.time="time",u.timestamp="timestamp",u.timestamptz="timestamptz",u.timetz="timetz",u.tsrange="tsrange",u.tstzrange="tstzrange"})(ye||(ye={}));const jd=(u,n,s={})=>{var o;const a=(o=s.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=Vp(f,u,n,a),c),{}):{}},Vp=(u,n,s,o)=>{const a=n.find(p=>p.name===u),c=a?.type,f=s[u];return c&&!o.includes(c)?Xd(c,f):Xa(f)},Xd=(u,n)=>{if(u.charAt(0)==="_"){const s=u.slice(1,u.length);return Qp(n,s)}switch(u){case ye.bool:return Kp(n);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return Gp(n);case ye.json:case ye.jsonb:return Jp(n);case ye.timestamp:return Yp(n);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return Xa(n);default:return Xa(n)}},Xa=u=>u,Kp=u=>{switch(u){case"t":return!0;case"f":return!1;default:return u}},Gp=u=>{if(typeof u=="string"){const n=parseFloat(u);if(!Number.isNaN(n))return n}return u},Jp=u=>{if(typeof u=="string")try{return JSON.parse(u)}catch(n){return console.log(`JSON parse error: ${n}`),u}return u},Qp=(u,n)=>{if(typeof u!="string")return u;const s=u.length-1,o=u[s];if(u[0]==="{"&&o==="}"){let c;const f=u.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>Xd(n,p))}return u},Yp=u=>typeof u=="string"?u.replace(" ","T"):u,Zd=u=>{let n=u;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class za{constructor(n,s,o={},a=Qa){this.channel=n,this.event=s,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ed;(function(u){u.SYNC="sync",u.JOIN="join",u.LEAVE="leave"})(Ed||(Ed={}));class cs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cs.syncState(this.state,a,c,f),this.pendingDiffs.forEach(g=>{this.state=cs.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=cs.syncDiff(this.state,a,c,f),p())}),this.onJoin((a,c,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:f})}),this.onLeave((a,c,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,a){const c=this.cloneDeep(n),f=this.transformState(s),p={},g={};return this.map(c,(y,v)=>{f[y]||(g[y]=v)}),this.map(f,(y,v)=>{const _=c[y];if(_){const N=v.map(j=>j.presence_ref),O=_.map(j=>j.presence_ref),I=v.filter(j=>O.indexOf(j.presence_ref)<0),R=_.filter(j=>N.indexOf(j.presence_ref)<0);I.length>0&&(p[y]=I),R.length>0&&(g[y]=R)}else p[y]=v}),this.syncDiff(c,{joins:p,leaves:g},o,a)}static syncDiff(n,s,o,a){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(p,g)=>{var y;const v=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(g),v.length>0){const _=n[p].map(O=>O.presence_ref),N=v.filter(O=>_.indexOf(O.presence_ref)<0);n[p].unshift(...N)}o(p,v,g)}),this.map(f,(p,g)=>{let y=n[p];if(!y)return;const v=g.map(_=>_.presence_ref);y=y.filter(_=>v.indexOf(_.presence_ref)<0),n[p]=y,a(p,y,g),y.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const a=n[o];return"metas"in a?s[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=a,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nd;(function(u){u.ALL="*",u.INSERT="INSERT",u.UPDATE="UPDATE",u.DELETE="DELETE"})(Nd||(Nd={}));var ds;(function(u){u.BROADCAST="broadcast",u.PRESENCE="presence",u.POSTGRES_CHANGES="postgres_changes",u.SYSTEM="system"})(ds||(ds={}));var Wt;(function(u){u.SUBSCRIBED="SUBSCRIBED",u.TIMED_OUT="TIMED_OUT",u.CLOSED="CLOSED",u.CHANNEL_ERROR="CHANNEL_ERROR"})(Wt||(Wt={}));class ul{constructor(n,s={config:{}},o){var a,c;if(this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new za(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new Yd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new cs(this),this.broadcastEndpointURL=Zd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var o,a,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,y=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(O=>O.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[ds.PRESENCE]&&this.bindings[ds.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},N={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:v}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(O=>n?.(Wt.CHANNEL_ERROR,O)),this._onClose(()=>n?.(Wt.CLOSED)),this.updateJoinPayload(Object.assign({config:N},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:O})=>{var I;if(this.socket.setAuth(),O===void 0){n?.(Wt.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,j=(I=R?.length)!==null&&I!==void 0?I:0,C=[];for(let A=0;A<j;A++){const P=R[A],{filter:{event:M,schema:Z,table:G,filter:ne}}=P,de=O&&O[A];if(de&&de.event===M&&de.schema===Z&&de.table===G&&de.filter===ne)C.push(Object.assign(Object.assign({},P),{id:de.id}));else{this.unsubscribe(),this.state=Le.errored,n?.(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,n&&n(Wt.SUBSCRIBED);return}}).receive("error",O=>{this.state=Le.errored,n?.(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{n?.(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===Le.joined&&n===ds.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,a;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=y.body)===null||a===void 0?void 0:a.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Le.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new za(this,Nt.leave,{},n),o.receive("ok",()=>{s(),a("ok")}).receive("timeout",()=>{s(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:a.signal}));return clearTimeout(c),f}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new za(this,n,s,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>qp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var a,c;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:y,join:v}=Nt;if(o&&[p,g,y,v].indexOf(f)>=0&&o!==this._joinRef())return;let N=this._onMessage(f,s,o);if(s&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(O=>{var I,R,j;return((I=O.filter)===null||I===void 0?void 0:I.event)==="*"||((j=(R=O.filter)===null||R===void 0?void 0:R.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(O=>O.callback(N,o)):(c=this.bindings[f])===null||c===void 0||c.filter(O=>{var I,R,j,C,A,P;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const M=O.id,Z=(I=O.filter)===null||I===void 0?void 0:I.event;return M&&((R=s.ids)===null||R===void 0?void 0:R.includes(M))&&(Z==="*"||Z?.toLocaleLowerCase()===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const M=(A=(C=O?.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((P=s?.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof N=="object"&&"ids"in N){const I=N.data,{schema:R,table:j,commit_timestamp:C,type:A,errors:P}=I;N=Object.assign(Object.assign({},{schema:R,table:j,commit_timestamp:C,eventType:A,new:{},old:{},errors:P}),this._getPayloadRecords(I))}O.callback(N,o)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const a=n.toLocaleLowerCase(),c={type:a,filter:s,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&ul.isEqual(a.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Nt.close,{},n)}_onError(n){this._on(Nt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=jd(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=jd(n.columns,n.old_record)),s}}const Ma=()=>{},Pi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xp=[1e3,2e3,5e3,1e4],Zp=1e4,em=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tm{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qa,this.transport=null,this.heartbeatIntervalMs=Pi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ma,this.ref=0,this.reconnectTimer=null,this.logger=Ma,this.conn=null,this.sendBuffer=[],this.serializer=new Hp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...f)=>gs(async()=>{const{default:p}=await Promise.resolve().then(()=>xn);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...f)=>c(...f)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Ya.websocket}`,this.httpEndpoint=Zd(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bp}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return Tr.Connecting;case us.open:return Tr.Open;case us.closing:return Tr.Closing;default:return Tr.Closed}}isConnected(){return this.connectionState()===Tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new ul(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:o,payload:a,ref:c}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${s} ${o} (${c})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Wp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Pi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:c,ref:f}=s,p=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${o} ${a} ${p}`.trim(),c),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(a,c,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Nt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",a=new URLSearchParams(s);return`${n}${o}${a}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([em],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const a={access_token:s,version:Fp};s&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Nt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(a){this.log("error",`error in ${n} callback`,a)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new Yd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,a,c,f,p,g,y,v;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:Qa,this.heartbeatIntervalMs=(a=n?.heartbeatIntervalMs)!==null&&a!==void 0?a:Pi.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Ma,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>Xp[_-1]||Zp),this.encode=(y=n?.encode)!==null&&y!==void 0?y:((_,N)=>N(JSON.stringify(_))),this.decode=(v=n?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class cl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Re(u){return typeof u=="object"&&u!==null&&"__isStorageError"in u}class rm extends cl{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Za extends cl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var nm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};const eh=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>gs(async()=>{const{default:o}=await Promise.resolve().then(()=>xn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},sm=()=>nm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gs(()=>Promise.resolve().then(()=>xn),void 0)).Response:Response}),el=u=>{if(Array.isArray(u))return u.map(s=>el(s));if(typeof u=="function"||u!==Object(u))return u;const n={};return Object.entries(u).forEach(([s,o])=>{const a=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[a]=el(o)}),n},im=u=>{if(typeof u!="object"||u===null)return!1;const n=Object.getPrototypeOf(u);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in u)&&!(Symbol.iterator in u)};var Rr=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};const Fa=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),om=(u,n,s)=>Rr(void 0,void 0,void 0,function*(){const o=yield sm();u instanceof o&&!s?.noResolveJson?u.json().then(a=>{const c=u.status||500,f=a?.statusCode||c+"";n(new rm(Fa(a),c,f))}).catch(a=>{n(new Za(Fa(a),a))}):n(new Za(Fa(u),u))}),am=(u,n,s,o)=>{const a={method:u,headers:n?.headers||{}};return u==="GET"||!o?a:(im(o)?(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),a.body=JSON.stringify(o)):a.body=o,n?.duplex&&(a.duplex=n.duplex),Object.assign(Object.assign({},a),s))};function ys(u,n,s,o,a,c){return Rr(this,void 0,void 0,function*(){return new Promise((f,p)=>{u(s,am(n,o,a,c)).then(g=>{if(!g.ok)throw g;return o?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>om(g,p,o))})})}function Ai(u,n,s,o){return Rr(this,void 0,void 0,function*(){return ys(u,"GET",n,s,o)})}function It(u,n,s,o,a){return Rr(this,void 0,void 0,function*(){return ys(u,"POST",n,o,a,s)})}function tl(u,n,s,o,a){return Rr(this,void 0,void 0,function*(){return ys(u,"PUT",n,o,a,s)})}function lm(u,n,s,o){return Rr(this,void 0,void 0,function*(){return ys(u,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function th(u,n,s,o,a){return Rr(this,void 0,void 0,function*(){return ys(u,"DELETE",n,o,a,s)})}var um=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};class cm{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return um(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}var dm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};class hm{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}asStream(){return new cm(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.execute().then(n,s)}execute(){return dm(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}var rt=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};const fm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pm{constructor(n,s={},o,a){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=o,this.fetch=eh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,o,a){return rt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Cd),a);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=o,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a?.headers&&(p=Object.assign(Object.assign({},p),a.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),_=yield(n=="PUT"?tl:It)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Re(c))return{data:null,error:c};throw c}})}upload(n,s,o){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,a){return rt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:Cd.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",y.cacheControl)):(g=o,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const _=yield tl(this.fetch,p.toString(),g,{headers:v});return{data:{path:c,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Re(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return rt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const a=Object.assign({},this.headers);s?.upsert&&(a["x-upsert"]="true");const c=yield It(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new cl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Re(o))return{data:null,error:o};throw o}})}update(n,s,o){return rt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return rt(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}copy(n,s,o){return rt(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}createSignedUrl(n,s,o){return rt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),c=yield It(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const f=o?.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}createSignedUrls(n,s,o){return rt(this,void 0,void 0,function*(){try{const a=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}download(n,s){const a=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),f=c?`?${c}`:"",p=this._getFinalPath(n),g=()=>Ai(this.fetch,`${this.url}/${a}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new hm(g,this.shouldThrowOnError)}info(n){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield Ai(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:el(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Re(o))return{data:null,error:o};throw o}})}exists(n){return rt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield lm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Re(o)&&o instanceof Za){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),a=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&a.push(c);const p=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&a.push(g);let y=a.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${y}`)}}}remove(n){return rt(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}list(n,s,o){return rt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},fm),s),{prefix:n||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}listV2(n,s){return rt(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield It(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Re(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const mm="2.75.0",gm={"X-Client-Info":`storage-js/${mm}`};var cn=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};class ym{constructor(n,s={},o,a){this.shouldThrowOnError=!1;const c=new URL(n);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gm),s),this.fetch=eh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getBucket(n){return cn(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}createBucket(n){return cn(this,arguments,void 0,function*(s,o={public:!1}){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}updateBucket(n,s){return cn(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Re(o))return{data:null,error:o};throw o}})}emptyBucket(n){return cn(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}deleteBucket(n){return cn(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}}class vm extends ym{constructor(n,s={},o,a){super(n,s,o,a)}from(n){return new pm(this.url,this.headers,n,this.fetch)}}const wm="2.75.0";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const xm={"X-Client-Info":`supabase-js-${ls}/${wm}`},_m={headers:xm},bm={schema:"public"},km={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sm={};var jm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};const Em=u=>{let n;return u?n=u:typeof fetch>"u"?n=Hd:n=fetch,(...s)=>n(...s)},Nm=()=>typeof Headers>"u"?Vd:Headers,Cm=(u,n,s)=>{const o=Em(s),a=Nm();return(c,f)=>jm(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:u;let y=new a(f?.headers);return y.has("apikey")||y.set("apikey",u),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),o(c,Object.assign(Object.assign({},f),{headers:y}))})};var Tm=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};function Pm(u){return u.endsWith("/")?u:u+"/"}function Om(u,n){var s,o;const{db:a,auth:c,realtime:f,global:p}=u,{db:g,auth:y,realtime:v,global:_}=n,N={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},v),f),storage:{},global:Object.assign(Object.assign(Object.assign({},_),p),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>Tm(this,void 0,void 0,function*(){return""})};return u.accessToken?N.accessToken=u.accessToken:delete N.accessToken,N}function Rm(u){const n=u?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Pm(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rh="2.75.0",gn=30*1e3,rl=3,Ba=rl*gn,Am="http://localhost:9999",Im="supabase.auth.token",$m={"X-Client-Info":`gotrue-js/${rh}`},nl="X-Supabase-Api-Version",nh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dm=600*1e3;class hs extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function Y(u){return typeof u=="object"&&u!==null&&"__isAuthError"in u}class Um extends hs{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function zm(u){return Y(u)&&u.name==="AuthApiError"}class Pr extends hs{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class hr extends hs{constructor(n,s,o,a){super(n,o,a),this.name=s,this.status=o}}class cr extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Mm(u){return Y(u)&&u.name==="AuthSessionMissingError"}class dn extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Oi extends hr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Ri extends hr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fm(u){return Y(u)&&u.name==="AuthImplicitGrantRedirectError"}class Td extends hr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sl extends hr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Wa(u){return Y(u)&&u.name==="AuthRetryableFetchError"}class Pd extends hr{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class il extends hr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Od=` 	
\r=`.split(""),Bm=(()=>{const u=new Array(128);for(let n=0;n<u.length;n+=1)u[n]=-1;for(let n=0;n<Od.length;n+=1)u[Od[n].charCodeAt(0)]=-2;for(let n=0;n<Ii.length;n+=1)u[Ii[n].charCodeAt(0)]=n;return u})();function Rd(u,n,s){if(u!==null)for(n.queue=n.queue<<8|u,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Ii[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(Ii[o]),n.queuedBits-=6}}function sh(u,n,s){const o=Bm[u];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(u)}"`)}}function Ad(u){const n=[],s=f=>{n.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=f=>{Hm(f,o,s)};for(let f=0;f<u.length;f+=1)sh(u.charCodeAt(f),a,c);return n.join("")}function Wm(u,n){if(u<=127){n(u);return}else if(u<=2047){n(192|u>>6),n(128|u&63);return}else if(u<=65535){n(224|u>>12),n(128|u>>6&63),n(128|u&63);return}else if(u<=1114111){n(240|u>>18),n(128|u>>12&63),n(128|u>>6&63),n(128|u&63);return}throw new Error(`Unrecognized Unicode codepoint: ${u.toString(16)}`)}function qm(u,n){for(let s=0;s<u.length;s+=1){let o=u.charCodeAt(s);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(u.charCodeAt(s+1)-56320&65535|a)+65536,s+=1}Wm(o,n)}}function Hm(u,n,s){if(n.utf8seq===0){if(u<=127){s(u);return}for(let o=1;o<6;o+=1)if((u>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=u&31;else if(n.utf8seq===3)n.codepoint=u&15;else if(n.utf8seq===4)n.codepoint=u&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(u<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|u&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function vn(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};for(let a=0;a<u.length;a+=1)sh(u.charCodeAt(a),s,o);return new Uint8Array(n)}function Vm(u){const n=[];return qm(u,s=>n.push(s)),new Uint8Array(n)}function Or(u){const n=[],s={queue:0,queuedBits:0},o=a=>{n.push(a)};return u.forEach(a=>Rd(a,s,o)),Rd(null,s,o),n.join("")}function Km(u){return Math.round(Date.now()/1e3)+u}function Gm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){const n=Math.random()*16|0;return(u=="x"?n:n&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",Er={tested:!1,writable:!1},ih=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Er.tested)return Er.writable;const u=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(u,u),globalThis.localStorage.removeItem(u),Er.tested=!0,Er.writable=!0}catch{Er.tested=!0,Er.writable=!1}return Er.writable};function Jm(u){const n={},s=new URL(u);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((a,c)=>{n[c]=a})}catch{}return s.searchParams.forEach((o,a)=>{n[a]=o}),n}const oh=u=>{let n;return u?n=u:typeof fetch>"u"?n=(...s)=>gs(async()=>{const{default:o}=await Promise.resolve().then(()=>xn);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Qm=u=>typeof u=="object"&&u!==null&&"status"in u&&"ok"in u&&"json"in u&&typeof u.json=="function",yn=async(u,n,s)=>{await u.setItem(n,JSON.stringify(s))},Nr=async(u,n)=>{const s=await u.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ur=async(u,n)=>{await u.removeItem(n)};class zi{constructor(){this.promise=new zi.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}zi.promiseConstructor=Promise;function qa(u){const n=u.split(".");if(n.length!==3)throw new il("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!Lm.test(n[o]))throw new il("JWT not in base64url format");return{header:JSON.parse(Ad(n[0])),payload:JSON.parse(Ad(n[1])),signature:vn(n[2]),raw:{header:n[0],payload:n[1]}}}async function Ym(u){return await new Promise(n=>{setTimeout(()=>n(null),u)})}function Xm(u,n){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await u(c);if(!n(c,null,f)){o(f);return}}catch(f){if(!n(c,f)){a(f);return}}})()})}function Zm(u){return("0"+u.toString(16)).substr(-2)}function eg(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let a="";for(let c=0;c<56;c++)a+=s.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(n),Array.from(n,Zm).join("")}async function tg(u){const s=new TextEncoder().encode(u),o=await crypto.subtle.digest("SHA-256",s),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function rg(u){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),u;const s=await tg(u);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hn(u,n,s=!1){const o=eg();let a=o;s&&(a+="/PASSWORD_RECOVERY"),await yn(u,`${n}-code-verifier`,a);const c=await rg(o);return[c,o===c?"plain":"s256"]}const ng=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sg(u){const n=u.headers.get(nl);if(!n||!n.match(ng))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function ig(u){if(!u)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(u<=n)throw new Error("JWT has expired")}function og(u){switch(u){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ag=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fn(u){if(!ag.test(u))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ha(){const u={};return new Proxy(u,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Id(u){return JSON.parse(JSON.stringify(u))}var lg=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};const Cr=u=>u.msg||u.message||u.error_description||u.error||JSON.stringify(u),ug=[502,503,504];async function $d(u){var n;if(!Qm(u))throw new sl(Cr(u),0);if(ug.includes(u.status))throw new sl(Cr(u),u.status);let s;try{s=await u.json()}catch(c){throw new Pr(Cr(c),c)}let o;const a=sg(u);if(a&&a.getTime()>=nh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Pd(Cr(s),u.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new cr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Pd(Cr(s),u.status,s.weak_password.reasons);throw new Um(Cr(s),u.status||500,o)}const cg=(u,n,s,o)=>{const a={method:u,headers:n?.headers||{}};return u==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),s))};async function re(u,n,s,o){var a;const c=Object.assign({},o?.headers);c[nl]||(c[nl]=nh["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const f=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await dg(u,n,s+p,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(g):{data:Object.assign({},g),error:null}}async function dg(u,n,s,o,a,c){const f=cg(n,o,a,c);let p;try{p=await u(s,Object.assign({},f))}catch(g){throw console.error(g),new sl(Cr(g),0)}if(p.ok||await $d(p),o?.noResolveJson)return p;try{return await p.json()}catch(g){await $d(g)}}function Et(u){var n;let s=null;pg(u)&&(s=Object.assign({},u),u.expires_at||(s.expires_at=Km(u.expires_in)));const o=(n=u.user)!==null&&n!==void 0?n:u;return{data:{session:s,user:o},error:null}}function Ld(u){const n=Et(u);return!n.error&&u.weak_password&&typeof u.weak_password=="object"&&Array.isArray(u.weak_password.reasons)&&u.weak_password.reasons.length&&u.weak_password.message&&typeof u.weak_password.message=="string"&&u.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=u.weak_password),n}function dr(u){var n;return{data:{user:(n=u.user)!==null&&n!==void 0?n:u},error:null}}function hg(u){return{data:u,error:null}}function fg(u){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c}=u,f=lg(u,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:a,verification_type:c},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Dd(u){return u}function pg(u){return u.access_token&&u.refresh_token&&u.expires_in}const Va=["global","local","others"];var mg=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};class gg{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=oh(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Va[0]){if(Va.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Va.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:dr})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=mg(n,["options"]),a=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:fg,redirectTo:s?.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:dr})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,a,c,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Dd});if(v.error)throw v.error;const _=await v.json(),N=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(I=>{const R=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(I.split(";")[1].split("=")[1]);y[`${j}Page`]=R}),y.total=parseInt(N)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(Y(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){fn(n);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:dr})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){fn(n);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:dr})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){fn(n);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:dr})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){fn(n.userId);try{const{data:s,error:o}=await re(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:s,error:o}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(n){fn(n.userId),fn(n.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,o,a,c,f,p,g;try{const y={nextPage:null,lastPage:0,total:0},v=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Dd});if(v.error)throw v.error;const _=await v.json(),N=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(g=(p=v.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(I=>{const R=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(I.split(";")[1].split("=")[1]);y[`${j}Page`]=R}),y.total=parseInt(N)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(Y(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(n){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}}function Ud(u={}){return{getItem:n=>u[n]||null,setItem:(n,s)=>{u[n]=s},removeItem:n=>{delete u[n]}}}const pn={debug:!!(globalThis&&ih()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ah extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class yg extends ah{}async function vg(u,n,s){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",u,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",u)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(u,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",u,a.name);try{return await s()}finally{pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",u,a.name)}}else{if(n===0)throw pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",u),new yg(`Acquiring an exclusive Navigator LockManager lock "${u}" immediately failed`);if(pn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function wg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lh(u){if(!/^0x[a-fA-F0-9]{40}$/.test(u))throw new Error(`@supabase/auth-js: Address "${u}" is invalid.`);return u.toLowerCase()}function xg(u){return parseInt(u,16)}function _g(u){const n=new TextEncoder().encode(u);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function bg(u){var n;const{chainId:s,domain:o,expirationTime:a,issuedAt:c=new Date,nonce:f,notBefore:p,requestId:g,resources:y,scheme:v,uri:_,version:N}=u;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((n=u.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${u.statement}`)}const O=lh(u.address),I=v?`${v}://${o}`:o,R=u.statement?`${u.statement}
`:"",j=`${I} wants you to sign in with your Ethereum account:
${O}

${R}`;let C=`URI: ${_}
Version: ${N}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),p&&(C+=`
Not Before: ${p.toISOString()}`),g&&(C+=`
Request ID: ${g}`),y){let A=`
Resources:`;for(const P of y){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);A+=`
- ${P}`}C+=A}return`${j}
${C}`}class Oe extends Error{constructor({message:n,code:s,cause:o,name:a}){var c;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=a??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class $i extends Oe{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function kg({error:u,options:n}){var s,o,a;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else if(u.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:u});if(n.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:u});if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:u})}else{if(u.name==="InvalidStateError")return new Oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:u});if(u.name==="NotAllowedError")return new Oe({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:u}):new Oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:u});if(u.name==="SecurityError"){const f=window.location.hostname;if(ch(f)){if(c.rp.id!==f)return new Oe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:u})}else if(u.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}function Sg({error:u,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(u.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:u})}else{if(u.name==="NotAllowedError")return new Oe({message:u.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u});if(u.name==="SecurityError"){const o=window.location.hostname;if(ch(o)){if(s.rpId!==o)return new Oe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:u})}else return new Oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:u})}else if(u.name==="UnknownError")return new Oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:u})}return new Oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:u})}var uh=function(u,n){var s={};for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&n.indexOf(o)<0&&(s[o]=u[o]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(u);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(u,o[a])&&(s[o[a]]=u[o[a]]);return s};class jg{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Eg=new jg;function Ng(u){if(!u)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(u);const{challenge:n,user:s,excludeCredentials:o}=u,a=uh(u,["challenge","user","excludeCredentials"]),c=vn(n).buffer,f=Object.assign(Object.assign({},s),{id:vn(s.id).buffer}),p=Object.assign(Object.assign({},a),{challenge:c,user:f});if(o&&o.length>0){p.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const y=o[g];p.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:vn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function Cg(u){if(!u)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(u);const{challenge:n,allowCredentials:s}=u,o=uh(u,["challenge","allowCredentials"]),a=vn(n).buffer,c=Object.assign(Object.assign({},o),{challenge:a});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];c.allowCredentials[f]=Object.assign(Object.assign({},p),{id:vn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function Tg(u){var n;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const s=u;return{id:u.id,rawId:u.id,response:{attestationObject:Or(new Uint8Array(u.response.attestationObject)),clientDataJSON:Or(new Uint8Array(u.response.clientDataJSON))},type:"public-key",clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Pg(u){var n;if("toJSON"in u&&typeof u.toJSON=="function")return u.toJSON();const s=u,o=u.getClientExtensionResults(),a=u.response;return{id:u.id,rawId:u.id,response:{authenticatorData:Or(new Uint8Array(a.authenticatorData)),clientDataJSON:Or(new Uint8Array(a.clientDataJSON)),signature:Or(new Uint8Array(a.signature)),userHandle:a.userHandle?Or(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ch(u){return u==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(u)}function zd(){var u,n;return!!(ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((u=navigator?.credentials)===null||u===void 0?void 0:u.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Og(u){try{const n=await navigator.credentials.create(u);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",n)}:{data:null,error:new $i("Empty credential response",n)}}catch(n){return{data:null,error:kg({error:n,options:u})}}}async function Rg(u){try{const n=await navigator.credentials.get(u);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new $i("Browser returned unexpected credential type",n)}:{data:null,error:new $i("Empty credential response",n)}}catch(n){return{data:null,error:Sg({error:n,options:u})}}}const Ag={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ig={userVerification:"preferred",hints:["security-key"]};function Li(...u){const n=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),s=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),o={};for(const a of u)if(a)for(const c in a){const f=a[c];if(f!==void 0)if(Array.isArray(f))o[c]=f;else if(s(f))o[c]=f;else if(n(f)){const p=o[c];n(p)?o[c]=Li(p,f):o[c]=Li(f)}else o[c]=f}return o}function $g(u,n){return Li(Ag,u,n||{})}function Lg(u,n){return Li(Ig,u,n||{})}class Dg{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:o,signal:a},c){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!f)return{data:null,error:p};const g=a??Eg.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=$g(f.webauthn.credential_options.publicKey,c?.create),{data:v,error:_}=await Og({publicKey:y,signal:g});return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const y=Lg(f.webauthn.credential_options.publicKey,c?.request),{data:v,error:_}=await Rg(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:g}));return v?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(f){return Y(f)?{data:null,error:f}:{data:null,error:new Pr("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a}},c){if(!s)return{data:null,error:new hs("rpId is required for WebAuthn authentication")};try{if(!zd())return{data:null,error:new Pr("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:o},signal:a},{request:c});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:o,credential_response:g.credential_response}})}catch(f){return Y(f)?{data:null,error:f}:{data:null,error:new Pr("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:a},c){if(!s)return{data:null,error:new hs("rpId is required for WebAuthn registration")};try{if(!zd())return{data:null,error:new Pr("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===n&&N.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:p};const{data:g,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:a},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(f){return Y(f)?{data:null,error:f}:{data:null,error:new Pr("Unexpected error in register",f)}}}}wg();const Ug={url:Am,storageKey:Im,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$m,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Md(u,n,s){return await s()}const mn={};class fs{get jwks(){var n,s;return(s=(n=mn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=mn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){mn[this.storageKey]=Object.assign(Object.assign({},mn[this.storageKey]),{cachedAt:n})}constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fs.nextInstanceID,fs.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Ug),n);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new gg({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=oh(a.fetch),this.lock=a.lock||Md,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ut()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=vg:this.lock=Md,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dg(this)},this.persistSession?(a.storage?this.storage=a.storage:ih()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ud(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rh}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=Jm(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),ut()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Fm(c)){const g=(n=c.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?{error:s}:{error:new Pr("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,a;try{const c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=n?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Et}),{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(Y(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,o,a;try{let c;if("email"in n){const{email:v,password:_,options:N}=n;let O=null,I=null;this.flowType==="pkce"&&([O,I]=await hn(this.storage,this.storageKey)),c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:v,password:_,data:(s=N?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:O,code_challenge_method:I},xform:Et})}else if("phone"in n){const{phone:v,password:_,options:N}=n;c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(o=N?.data)!==null&&o!==void 0?o:{},channel:(a=N?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:Et})}else throw new Oi("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const g=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(Y(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ld})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ld})}else throw new Oi("You must provide either an email or phone number and a password");const{data:o,error:a}=s;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new dn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,a,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=n.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,o,a,c,f,p,g,y,v,_,N;let O,I;if("message"in n)O=n.message,I=n.signature;else{const{chain:R,wallet:j,statement:C,options:A}=n;let P;if(ut())if(typeof j=="object")P=j;else{const xe=window;if("ethereum"in xe&&typeof xe.ethereum=="object"&&"request"in xe.ethereum&&typeof xe.ethereum.request=="function")P=xe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const M=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href),Z=await P.request({method:"eth_requestAccounts"}).then(xe=>xe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=lh(Z[0]);let ne=(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ne){const xe=await P.request({method:"eth_chainId"});ne=xg(xe)}const de={domain:M.host,address:G,statement:C,uri:M.href,version:"1",chainId:ne,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(f=(c=A?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=A?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=A?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=A?.signInWithEthereum)===null||v===void 0?void 0:v.resources};O=bg(de),I=await P.request({method:"personal_sign",params:[_g(O),G]})}try{const{data:R,error:j}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:I},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:Et});if(j)throw j;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new dn}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:j})}catch(R){if(Y(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(n){var s,o,a,c,f,p,g,y,v,_,N,O;let I,R;if("message"in n)I=n.message,R=n.signature;else{const{chain:j,wallet:C,statement:A,options:P}=n;let M;if(ut())if(typeof C=="object")M=C;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))M=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const Z=new URL((s=P?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in M&&M.signIn){const G=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P?.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),A?{statement:A}:null));let ne;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")ne=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)ne=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)I=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),R=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${Z.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(a=(o=P?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=P?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((f=P?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((p=P?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((g=P?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((y=P?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((_=(v=P?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...P.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const G=await M.signMessage(new TextEncoder().encode(I),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=G}}try{const{data:j,error:C}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:Or(R)},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Et});if(C)throw C;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new dn}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:C})}catch(j){if(Y(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(n){const s=await Nr(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(s??"").split("/");try{const{data:c,error:f}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Et});if(await ur(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new dn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:f})}catch(c){if(Y(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:o,token:a,access_token:c,nonce:f}=n,p=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Et}),{data:g,error:y}=p;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new dn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,a,c,f;try{if("email"in n){const{email:p,options:g}=n;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await hn(this.storage,this.storageKey));const{error:_}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(o=g?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in n){const{phone:p,options:g}=n,{data:y,error:v}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:v}}throw new Oi("You must provide either an email or phone number.")}catch(p){if(Y(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let a,c;"options"in n&&(a=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:p}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:Et});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,y=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(n){var s,o,a;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await hn(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=n?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:hg})}catch(c){if(Y(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new cr;const{error:a}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:a}})}catch(n){if(Y(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:a,options:c}=n,{error:f}=await re(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:o,type:a,options:c}=n,{data:f,error:p}=await re(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:p}}throw new Oi("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Ba:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const f=await Nr(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Ha()}if(this.storage.isServer&&n.user){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(g,y,v)=>(!f&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,v))})}return{data:{session:n},error:null}}const{data:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:dr}):await this._useSession(async s=>{var o,a,c;const{data:f,error:p}=s;if(p)throw p;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:dr})})}catch(s){if(Y(s))return Mm(s)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new cr;const f=a.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await hn(this.storage,this.storageKey));const{data:y,error:v}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:dr});if(v)throw v;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(o){if(Y(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new cr;const s=Date.now()/1e3;let o=s,a=!0,c=null;const{payload:f}=qa(n.access_token);if(f.exp&&(o=f.exp,a=o<=s),a){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(Y(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(o=f.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new cr;const{data:a,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!ut())throw new Ri("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Ri(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Td("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ri("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Td("No code detected.");const{data:A,error:P}=await this._exchangeCodeForSession(n.code);if(P)throw P;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:f,expires_in:p,expires_at:g,token_type:y}=n;if(!c||!p||!f||!y)throw new Ri("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(p);let N=v+_;g&&(N=parseInt(g));const O=N-v;O*1e3<=gn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${_}s`);const I=N-_;v-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,N,v):v-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,N,v);const{data:R,error:j}=await this._getUser(c);if(j)throw j;const C={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:_,expires_at:N,refresh_token:f,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:n.type},error:null}}catch(o){if(Y(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Nr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{error:c};const f=(o=a.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(zm(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=Gm(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,a;try{const{data:{session:c},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(n))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await hn(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(Y(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:o,error:a}=await this._useSession(async c=>{var f,p,g,y,v;const{data:_,error:N}=c;if(N)throw N;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",O,{headers:this.headers,jwt:(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return ut()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(Y(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var o;try{const{error:a,data:{session:c}}=s;if(a)throw a;const{options:f,provider:p,token:g,access_token:y,nonce:v}=n,_=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:p,id_token:g,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Et}),{data:N,error:O}=_;return O?{data:{user:null,session:null},error:O}:!N||!N.session||!N.user?{data:{user:null,session:null},error:new dn}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),{data:N,error:O})}catch(a){if(Y(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,a;const{data:c,error:f}=s;if(f)throw f;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Xm(async a=>(a>0&&await Ym(200*Math.pow(2,a-1)),this._debug(s,"refreshing attempt",a),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Et})),(a,c)=>{const f=200*Math.pow(2,a);return c&&Wa(c)&&Date.now()+f-o<gn})}catch(o){if(this._debug(s,"error",o),Y(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),ut()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Nr(this.storage,this.storageKey);if(a&&this.userStorage){let f=await Nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:a.user},await yn(this.userStorage,this.storageKey+"-user",f)),a.user=(n=f?.user)!==null&&n!==void 0?n:Ha()}else if(a&&!a.user&&!a.user){const f=await Nr(this.storage,this.storageKey+"-user");f&&f?.user?(a.user=f.user,await ur(this.storage,this.storageKey+"-user"),await yn(this.storage,this.storageKey,a)):a.user=Ha()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((s=a.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Ba;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${Ba}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:f}=await this._callRefreshToken(a.refresh_token);f&&(console.error(f),Wa(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(a.access_token);!p&&f?.user?(a.user=f.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zi;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new cr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(a,"error",c),Y(c)){const f={data:null,error:c};return Wa(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(n,s,o=!0){const a=`#_notifyAllSubscribers(${n})`;this._debug(a,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await yn(this.userStorage,this.storageKey+"-user",{user:s.user});const a=Object.assign({},s);delete a.user;const c=Id(a);await yn(this.storage,this.storageKey,c)}else{const a=Id(s);await yn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),gn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-n)/gn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${gn}ms, refresh threshold is ${rl} ticks`),a<=rl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ah)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const a=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,f]=await hn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(p.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${a.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;return c?{data:null,error:c}:await re(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,a;const{data:c,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:y}=await re(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&g.type==="totp"&&(!((a=g?.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{data:null,error:c};const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Tg(n.webauthn.credential_response):Pg(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:g})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:a,error:c}=s;if(c)return{data:null,error:c};const f=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Ng(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:Cg(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const a={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=s?.factors)!==null&&n!==void 0?n:[])a.all.push(c),c.status==="verified"&&a[c.factor_type].push(c);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:a},error:c}=n;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=qa(a.access_token);let p=null;f.aal&&(p=f.aal);let g=p;((o=(s=a.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+Dm>a)return o;const{data:c,error:f}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:O,error:I}=await this.getSession();if(I||!O.session)return{data:null,error:I};o=O.session.access_token}const{header:a,payload:c,signature:f,raw:{header:p,payload:g}}=qa(o);s?.allowExpired||ig(c.exp);const y=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:O}=await this.getUser(o);if(O)throw O;return{data:{claims:c,header:a,signature:f},error:null}}const v=og(a.alg),_=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,f,Vm(`${p}.${g}`)))throw new il("Invalid JWT signature");return{data:{claims:c,header:a,signature:f},error:null}}catch(o){if(Y(o))return{data:null,error:o};throw o}}}fs.nextInstanceID=0;const zg=fs;class Mg extends zg{constructor(n){super(n)}}var Fg=function(u,n,s,o){function a(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(v){try{y(o.next(v))}catch(_){f(_)}}function g(v){try{y(o.throw(v))}catch(_){f(_)}}function y(v){v.done?c(v.value):a(v.value).then(p,g)}y((o=o.apply(u,n||[])).next())})};class Bg{constructor(n,s,o){var a,c,f;this.supabaseUrl=n,this.supabaseKey=s;const p=Rm(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:bm,realtime:Sm,auth:Object.assign(Object.assign({},km),{storageKey:g}),global:_m},v=Om(o??{},y);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=v.auth)!==null&&f!==void 0?f:{},this.headers,v.global.fetch),this.fetch=Cm(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Up(new URL("rest/v1",p).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new vm(this.storageUrl.href,this.headers,this.fetch,o?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Cp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Fg(this,void 0,void 0,function*(){var n,s;if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,userStorage:c,storageKey:f,flowType:p,lock:g,debug:y},v,_){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mg({url:this.authUrl.href,headers:Object.assign(Object.assign({},N),v),storageKey:f,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:a,userStorage:c,flowType:p,lock:g,debug:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new tm(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wg=(u,n,s)=>new Bg(u,n,s);function qg(){if(typeof window<"u"||typeof process>"u")return!1;const u=process.version;if(u==null)return!1;const n=u.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}qg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hg="https://wxjorjiqjnaqxxfodkte.supabase.co",Vg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4am9yamlxam5hcXh4Zm9ka3RlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1NDE3NzMsImV4cCI6MjA3NjExNzc3M30.L1JgBc07IUc9_7fUm5DgSYBqT5_6CJxB2PjLNnu_Fns",pe=Wg(Hg,Vg),dh=X.createContext(void 0),_n=()=>{const u=X.useContext(dh);if(!u)throw new Error("useAuth must be used within AuthProvider");return u},Kg=({children:u})=>{const[n,s]=X.useState(null),[o,a]=X.useState(null),[c,f]=X.useState(!0),[p,g]=X.useState(!1);X.useEffect(()=>{pe.auth.getSession().then(({data:{session:R}})=>{s(R?.user??null),R?.user?y(R.user.id):(f(!1),g(!0))});const{data:{subscription:I}}=pe.auth.onAuthStateChange((R,j)=>{p&&(async()=>(s(j?.user??null),j?.user?await y(j.user.id):a(null)))()});return()=>I.unsubscribe()},[p]);const y=async I=>{try{const{data:R,error:j}=await pe.from("profiles").select("*").eq("id",I).maybeSingle();if(j)throw j;a(R)}catch(R){console.error("Error loading profile:",R)}finally{f(!1),g(!0)}},v=async(I,R,j,C,A)=>{const{data:P,error:M}=await pe.auth.signUp({email:I,password:R});if(M)throw M;if(P.user){const{error:Z}=await pe.from("profiles").insert({id:P.user.id,email:I,full_name:j,role:C,organization:A||null});if(Z)throw Z}},_=async(I,R)=>{const{error:j}=await pe.auth.signInWithPassword({email:I,password:R});if(j)throw j},N=async()=>{const{error:I}=await pe.auth.signOut();if(I)throw I},O=async I=>{const{error:R}=await pe.auth.resetPasswordForEmail(I,{redirectTo:`${window.location.origin}/reset-password`});if(R)throw R};return h.jsx(dh.Provider,{value:{user:n,profile:o,loading:c,signUp:v,signIn:_,signOut:N,resetPassword:O},children:u})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(u,n)=>{const s=X.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:f,className:p="",children:g,...y},v)=>X.createElement("svg",{ref:v,...Gg,width:a,height:a,stroke:o,strokeWidth:f?Number(c)*24/Number(a):c,className:["lucide",`lucide-${Jg(u)}`,p].join(" "),...y},[...n.map(([_,N])=>X.createElement(_,N)),...Array.isArray(g)?g:[g]]));return s.displayName=`${u}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),sy=({className:u="h-16 object-contain"})=>h.jsx("img",{src:"/property-solutions/rps-logo-final.png",alt:"Rubeus Property Solutions",className:u}),iy=({onBack:u})=>{const[n,s]=X.useState(!1),[o,a]=X.useState(!1),[c,f]=X.useState(""),[p,g]=X.useState(""),[y,v]=X.useState(!1),[_,N]=X.useState(""),[O,I]=X.useState("tenant"),[R,j]=X.useState(""),[C,A]=X.useState(""),[P,M]=X.useState(""),[Z,G]=X.useState(!1),{signIn:ne,signUp:de,resetPassword:xe}=_n(),yt=async Ae=>{Ae.preventDefault(),A(""),M(""),G(!0);try{o?(await xe(c),M("Password reset email sent! Check your inbox.")):n?await de(c,p,_,O,R):await ne(c,p)}catch(ct){A(ct.message||"An error occurred")}finally{G(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-rps-charcoal via-rps-dark-charcoal to-rps-charcoal flex items-center justify-center p-4",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border-2 border-rps-red",children:[u&&h.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-white hover:text-rps-red mb-4 transition-colors",children:[h.jsx(fh,{className:"w-5 h-5"}),"Back to Home"]}),h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"mb-6",children:h.jsx(sy,{className:"h-20 object-contain mx-auto"})}),h.jsx("p",{className:"text-gray-300 text-lg",children:o?"Reset your password":n?"Create your account":"Sign in to continue"})]}),h.jsxs("form",{onSubmit:yt,className:"space-y-4",children:[!o&&n&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Full Name"}),h.jsx("input",{type:"text",value:_,onChange:Ae=>N(Ae.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red focus:ring-opacity-50 text-gray-900",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Role"}),h.jsxs("select",{value:O,onChange:Ae=>I(Ae.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red focus:ring-opacity-50 text-gray-900",required:!0,children:[h.jsx("option",{value:"tenant",children:"Tenant"}),h.jsx("option",{value:"operative",children:"Field Operative"}),h.jsx("option",{value:"surveyor",children:"Surveyor"}),h.jsx("option",{value:"solicitor",children:"Solicitor"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Organization (Optional)"}),h.jsx("input",{type:"text",value:R,onChange:Ae=>j(Ae.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red focus:ring-opacity-50 text-gray-900"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),h.jsx("input",{type:"email",value:c,onChange:Ae=>f(Ae.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red focus:ring-opacity-50 text-gray-900",placeholder:"Enter your email",required:!0})]}),!o&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:y?"text":"password",value:p,onChange:Ae=>g(Ae.target.value),className:"w-full px-4 py-3 pr-10 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red focus:ring-opacity-50 text-gray-900",placeholder:"Enter your password",required:!0}),h.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-rps-red",children:y?h.jsx(Xg,{className:"w-5 h-5"}):h.jsx(Ui,{className:"w-5 h-5"})})]})]}),C&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:C}),P&&h.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg text-sm",children:P}),h.jsx("button",{type:"submit",disabled:Z,className:"w-full bg-rps-red text-white py-4 rounded-lg font-bold text-lg hover:bg-rps-light-red transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed shadow-md",children:Z?"Please wait...":o?"Send Reset Email":n?"Create Account":"Sign In"})]}),h.jsxs("div",{className:"mt-6 text-center space-y-2",children:[!o&&h.jsx("button",{type:"button",onClick:()=>s(!n),className:"block w-full text-white hover:text-rps-red text-sm font-medium",children:n?"Already have an account? Sign in":"Don't have an account? Sign up"}),h.jsx("button",{type:"button",onClick:()=>{a(!o),A(""),M("")},className:"block w-full text-white hover:text-rps-red text-sm font-medium",children:o?"Back to sign in":"Forgot your password?"})]})]})})})},oy=({onGetStarted:u,onPortalLogin:n})=>{const[s,o]=yp.useState({name:"",phone:"",tenantType:"Yes - Council Tenant"}),a=f=>{o({...s,[f.target.name]:f.target.value})},c=f=>{f.preventDefault(),u()};return h.jsxs("div",{className:"min-h-screen bg-white",children:[h.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-50 border-b-4 border-rps-red",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[h.jsx("img",{src:"/property-solutions/rps-logo-final.png",alt:"Rubeus Property Solutions",className:"h-16 object-contain"}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsxs("a",{href:"tel:+447951275297",className:"hidden md:flex items-center gap-2 text-rps-red font-bold text-lg hover:text-rps-light-red transition-colors",children:[h.jsx(Fd,{className:"w-5 h-5"}),"+44 (0) 7951 275 297"]}),h.jsx("button",{onClick:n,className:"bg-rps-red text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-rps-light-red transition-all shadow-md hover:shadow-lg",children:"Claims Portal Login"})]})]})}),h.jsx("section",{className:"bg-gradient-to-br from-rps-charcoal via-rps-dark-charcoal to-rps-charcoal text-white py-20 md:py-32",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:"Housing Disrepair Claims Made Simple"}),h.jsx("p",{className:"text-2xl md:text-3xl mb-6 text-rps-light-red font-semibold",children:"Get Up To 10,000 Compensation"}),h.jsx("p",{className:"text-lg md:text-xl mb-8 text-gray-300",children:"If you're a council or housing association tenant living with disrepair issues, you could be entitled to compensation. We'll handle everything on a no win, no fee basis."}),h.jsxs("ul",{className:"space-y-3 mb-8",children:[h.jsxs("li",{className:"flex items-center gap-3 text-lg",children:[h.jsx(Ka,{className:"w-6 h-6 text-rps-red"}),"100% No Win, No Fee"]}),h.jsxs("li",{className:"flex items-center gap-3 text-lg",children:[h.jsx(Ka,{className:"w-6 h-6 text-rps-red"}),"Free Initial Consultation"]}),h.jsxs("li",{className:"flex items-center gap-3 text-lg",children:[h.jsx(Ka,{className:"w-6 h-6 text-rps-red"}),"Expert Solicitors & Surveyors"]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsx("button",{onClick:u,className:"bg-rps-red text-white px-10 py-5 rounded-lg font-bold text-lg hover:bg-rps-light-red transition-all shadow-xl hover:shadow-2xl",children:"Start Your Free Claim"}),h.jsxs("a",{href:"tel:+447951275297",className:"bg-white text-rps-charcoal px-10 py-5 rounded-lg font-bold text-lg hover:bg-gray-100 transition-colors shadow-xl flex items-center justify-center gap-2",children:[h.jsx(Fd,{className:"w-5 h-5"}),"Call Now"]})]})]}),h.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm p-8 rounded-2xl border-2 border-rps-red",children:[h.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Quick Eligibility Check"}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Name"}),h.jsx("input",{type:"text",name:"name",value:s.name,onChange:a,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red text-gray-900",placeholder:"Enter your full name",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),h.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:a,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red text-gray-900",placeholder:"Enter your phone number",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Are you a council or housing association tenant?"}),h.jsxs("select",{name:"tenantType",value:s.tenantType,onChange:a,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-rps-red focus:ring-2 focus:ring-rps-red text-gray-900",children:[h.jsx("option",{children:"Yes - Council Tenant"}),h.jsx("option",{children:"Yes - Housing Association"}),h.jsx("option",{children:"No"})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-rps-red text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-rps-light-red transition-colors shadow-md",children:"Check Eligibility Now"})]})]})]})}),h.jsx("section",{className:"py-20 bg-rps-light-gray text-center",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Who Can Make a Housing Disrepair Claim?"}),h.jsx("p",{className:"text-xl text-rps-medium-gray mb-16",children:"If your landlord hasn't fixed disrepair issues, you may be entitled to compensation."}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border-t-4 border-rps-red",children:[h.jsx(Zg,{className:"w-12 h-12 text-rps-red mx-auto mb-4"}),h.jsx("h3",{className:"font-bold text-2xl mb-2",children:"Council Tenants"}),h.jsx("p",{className:"text-gray-600",children:"If your council landlord has ignored repair requests, you can claim compensation."})]}),h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border-t-4 border-rps-red",children:[h.jsx(Wd,{className:"w-12 h-12 text-rps-red mx-auto mb-4"}),h.jsx("h3",{className:"font-bold text-2xl mb-2",children:"Housing Associations"}),h.jsx("p",{className:"text-gray-600",children:"You're eligible if your housing association failed to fix issues like damp or leaks."})]}),h.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border-t-4 border-rps-red",children:[h.jsx(Bd,{className:"w-12 h-12 text-rps-red mx-auto mb-4"}),h.jsx("h3",{className:"font-bold text-2xl mb-2",children:"Private Tenants"}),h.jsx("p",{className:"text-gray-600",children:"If you rent privately and repairs were ignored, you still have rights."})]})]})]})}),h.jsxs("section",{className:"py-20 bg-gradient-to-br from-rps-charcoal to-rps-dark-charcoal text-white text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:"How The Claims Process Works"}),h.jsx("p",{className:"text-xl text-gray-300 mb-16",children:"Simple steps to get your claim handled quickly."}),h.jsx("div",{className:"grid md:grid-cols-4 gap-8 max-w-6xl mx-auto px-6",children:["Contact Us","Survey Visit","Legal Action","Get Compensated"].map((f,p)=>h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-rps-red rounded-full flex items-center justify-center mx-auto mb-6 text-3xl font-bold shadow-lg",children:p+1}),h.jsx("h3",{className:"text-xl font-bold mb-3",children:f}),h.jsxs("p",{className:"text-gray-300",children:[p===0&&"Reach out via phone or our online form",p===1&&"Professional surveyor inspects your property",p===2&&"Expert solicitors build your case",p===3&&"Receive compensation and repairs"]})]},p))})]}),h.jsxs("section",{className:"py-20 bg-white text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-10 text-rps-charcoal",children:"Why Choose Rubeus Property Solutions?"}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto px-6",children:[h.jsxs("div",{className:"p-8 bg-rps-light-gray rounded-xl",children:[h.jsx(Bd,{className:"w-10 h-10 text-rps-red mx-auto mb-4"}),h.jsx("h4",{className:"font-bold mb-2 text-xl",children:"No Win, No Fee"}),h.jsx("p",{children:"Pay nothing unless we succeed with your claim."})]}),h.jsxs("div",{className:"p-8 bg-rps-light-gray rounded-xl",children:[h.jsx(Wd,{className:"w-10 h-10 text-rps-red mx-auto mb-4"}),h.jsx("h4",{className:"font-bold mb-2 text-xl",children:"Expert Team"}),h.jsx("p",{children:"Professional solicitors and surveyors on your side."})]}),h.jsxs("div",{className:"p-8 bg-rps-light-gray rounded-xl",children:[h.jsx(Yg,{className:"w-10 h-10 text-rps-red mx-auto mb-4"}),h.jsx("h4",{className:"font-bold mb-2 text-xl",children:"Fast Process"}),h.jsx("p",{children:"Quick assessment and claim turnaround."})]}),h.jsxs("div",{className:"p-8 bg-rps-light-gray rounded-xl",children:[h.jsx(Qg,{className:"w-10 h-10 text-rps-red mx-auto mb-4"}),h.jsx("h4",{className:"font-bold mb-2 text-xl",children:"Up To 10,000"}),h.jsx("p",{children:"Claim compensation plus property repairs."})]})]})]}),h.jsxs("section",{className:"py-20 bg-rps-light-gray text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-8 text-rps-charcoal",children:"Get In Touch"}),h.jsx("p",{className:"text-xl text-rps-medium-gray mb-12 max-w-3xl mx-auto",children:"Our team is ready to help you start your housing disrepair claim."}),h.jsx("button",{onClick:u,className:"bg-rps-red text-white px-12 py-5 rounded-lg font-bold text-lg hover:bg-rps-light-red transition-all shadow-xl hover:shadow-2xl",children:"Start Your Claim Today"})]}),h.jsx("footer",{className:"bg-gradient-to-b from-rps-charcoal to-rps-dark-charcoal text-white py-10 text-center",children:h.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Rubeus Property Solutions. All rights reserved."]})})]})},ay=({onBack:u})=>{const[n,s]=X.useState("form"),[o,a]=X.useState(!1),[c,f]=X.useState(""),[p,g]=X.useState(""),[y,v]=X.useState({property_address:"",property_postcode:"",tenant_name:"",tenant_contact:"",submitted_by_email:"",submitted_by_phone:"",description:"",severity:"medium",estimated_value:"",gdpr_consent_given:!1,gdpr_marketing_consent:!1}),[_,N]=X.useState([]),O=(j,C)=>{if(j.target.files){const A=Array.from(j.target.files).map(P=>({file:P,type:C}));N([..._,...A])}},I=j=>{N(_.filter((C,A)=>A!==j))},R=async(j,C)=>{if(j.preventDefault(),g(""),!y.gdpr_consent_given){g("You must provide consent to process your data");return}a(!0);try{const{data:A,error:P}=await pe.from("claims").insert({property_address:y.property_address,property_postcode:y.property_postcode,tenant_name:y.tenant_name,tenant_contact:y.tenant_contact,submitted_by_email:y.submitted_by_email,submitted_by_phone:y.submitted_by_phone,description:y.description,severity:y.severity,estimated_value:y.estimated_value?parseFloat(y.estimated_value):null,gdpr_consent_given:y.gdpr_consent_given,gdpr_marketing_consent:y.gdpr_marketing_consent,is_draft:C,status:"pending"}).select().single();if(P)throw P;for(const{file:M,type:Z}of _){const G=M.name.split(".").pop(),ne=`${A.id}/${Date.now()}.${G}`,{error:de}=await pe.storage.from("claim-files").upload(ne,M);if(de){console.error("File upload error:",de);continue}const{data:{publicUrl:xe}}=pe.storage.from("claim-files").getPublicUrl(ne);await pe.from("claim_documents").insert({claim_id:A.id,file_name:M.name,file_type:Z,file_url:xe,file_size:M.size})}f(A.reference_number),s("success")}catch(A){g(A.message||"An error occurred while submitting your claim")}finally{a(!1)}};return n==="success"?h.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:h.jsx("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:h.jsx(Di,{className:"w-12 h-12 text-green-600"})}),h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Claim Submitted Successfully!"}),h.jsxs("div",{className:"bg-blue-50 border-2 border-blue-600 rounded-xl p-6 mb-6",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Your Reference Number:"}),h.jsx("p",{className:"text-3xl font-bold text-blue-600",children:c})]}),h.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Please keep this reference number safe. You'll need it to track your claim."}),h.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 w-full",children:[h.jsx("p",{className:"text-sm text-gray-900 font-semibold mb-3",children:"What happens next?"}),h.jsxs("ol",{className:"text-left text-sm text-gray-700 space-y-2 ml-4 list-decimal",children:[h.jsx("li",{children:"A professional surveyor will be assigned to assess your claim"}),h.jsx("li",{children:"You'll receive a validation code once the assessment is complete"}),h.jsx("li",{children:"Your claim will be made available to solicitors for purchase"}),h.jsxs("li",{children:["We'll contact you at ",y.submitted_by_email," with updates"]})]})]}),h.jsx("button",{onClick:u,className:"bg-red-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors shadow-md",children:"Back to Home"})]})})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("nav",{className:"bg-gradient-to-r from-gray-800 to-gray-900 shadow-lg sticky top-0 z-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-5 flex items-center justify-between",children:[h.jsx("div",{className:"text-2xl font-bold text-white",children:"Rubeus Property Solutions"}),h.jsxs("button",{onClick:u,className:"flex items-center gap-2 text-white hover:bg-red-600 px-4 py-2 rounded-lg transition-all",children:[h.jsx(fh,{className:"w-5 h-5"}),"Back"]})]})}),h.jsx("div",{className:"max-w-4xl mx-auto p-6 py-12",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[h.jsxs("div",{className:"mb-8 text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Submit a Disrepair Claim"}),h.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Fill in the details below to submit your housing disrepair claim. You can save as a draft and return within 24 hours."})]}),p&&h.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 flex items-start gap-3",children:[h.jsx(hh,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),h.jsx("span",{children:p})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Details"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Address *"}),h.jsx("input",{type:"text",required:!0,value:y.property_address,onChange:j=>v({...y,property_address:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Enter full property address"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postcode *"}),h.jsx("input",{type:"text",required:!0,value:y.property_postcode,onChange:j=>v({...y,property_postcode:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Enter postcode"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tenant Information"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenant Name *"}),h.jsx("input",{type:"text",required:!0,value:y.tenant_name,onChange:j=>v({...y,tenant_name:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Enter tenant's full name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tenant Contact Number *"}),h.jsx("input",{type:"tel",required:!0,value:y.tenant_contact,onChange:j=>v({...y,tenant_contact:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Enter contact number"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Contact Details"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Email *"}),h.jsx("input",{type:"email",required:!0,value:y.submitted_by_email,onChange:j=>v({...y,submitted_by_email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"your.email@example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Phone Number *"}),h.jsx("input",{type:"tel",required:!0,value:y.submitted_by_phone,onChange:j=>v({...y,submitted_by_phone:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Enter your phone number"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Claim Details"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description of Disrepair *"}),h.jsx("textarea",{required:!0,value:y.description,onChange:j=>v({...y,description:j.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Describe the disrepair issues in detail..."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Severity *"}),h.jsxs("select",{value:y.severity,onChange:j=>v({...y,severity:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",children:[h.jsx("option",{value:"low",children:"Low"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"high",children:"High"}),h.jsx("option",{value:"urgent",children:"Urgent"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Claim Value ()"}),h.jsx("input",{type:"number",value:y.estimated_value,onChange:j=>v({...y,estimated_value:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent",placeholder:"Optional",min:"0",step:"0.01"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Supporting Documents"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(ps,{className:"w-4 h-4 inline mr-2"}),"Upload Documents"]}),h.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx",onChange:j=>O(j,"document"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, DOC, DOCX files"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[h.jsx(ms,{className:"w-4 h-4 inline mr-2"}),"Upload Photos"]}),h.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:j=>O(j,"photo"),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-600"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG, HEIC files"})]})]}),_.length>0&&h.jsx("div",{className:"mt-4 space-y-2",children:_.map((j,C)=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[j.type==="document"?h.jsx(ps,{className:"w-5 h-5 text-blue-600"}):h.jsx(ms,{className:"w-5 h-5 text-green-600"}),h.jsx("span",{className:"text-sm text-gray-700",children:j.file.name}),h.jsxs("span",{className:"text-xs text-gray-500",children:["(",(j.file.size/1024).toFixed(1)," KB)"]})]}),h.jsx("button",{type:"button",onClick:()=>I(C),className:"text-red-600 hover:text-red-800",children:h.jsx(mh,{className:"w-4 h-4"})})]},C))})]}),h.jsxs("div",{className:"border-t pt-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Data Protection"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"flex items-start gap-3",children:[h.jsx("input",{type:"checkbox",checked:y.gdpr_consent_given,onChange:j=>v({...y,gdpr_consent_given:j.target.checked}),className:"mt-1 w-4 h-4 text-red-600 rounded focus:ring-red-600"}),h.jsx("span",{className:"text-sm text-gray-700",children:"I consent to Rubeus Property Solutions processing my personal data to handle this claim. *"})]}),h.jsxs("label",{className:"flex items-start gap-3",children:[h.jsx("input",{type:"checkbox",checked:y.gdpr_marketing_consent,onChange:j=>v({...y,gdpr_marketing_consent:j.target.checked}),className:"mt-1 w-4 h-4 text-red-600 rounded focus:ring-red-600"}),h.jsx("span",{className:"text-sm text-gray-700",children:"I consent to receiving marketing communications from Rubeus Property Solutions."})]})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[h.jsx("button",{onClick:j=>R(j,!1),disabled:o,className:"flex-1 bg-red-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors shadow-md",children:o?"Submitting...":"Submit Claim"}),h.jsx("button",{onClick:j=>R(j,!0),disabled:o,className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Save as Draft"})]})]})]})})]})},ly=()=>{const{profile:u,signOut:n}=_n(),s=o=>{switch(o){case"operative":return"bg-rps-red text-white";case"surveyor":return"bg-rps-light-red text-white";case"solicitor":return"bg-rps-red text-white";case"tenant":return"bg-white text-rps-red border border-rps-red";default:return"bg-white text-rps-charcoal"}};return h.jsx("header",{className:"bg-gradient-to-r from-rps-charcoal to-rps-dark-charcoal shadow-lg",children:h.jsx("div",{className:"max-w-7xl mx-auto px-6 py-5",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsx("img",{src:"/property-solutions/rps-logo-final.png",alt:"Rubeus Property Solutions",className:"h-14 object-contain"})}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ry,{className:"w-4 h-4 text-white"}),h.jsx("span",{className:"font-medium text-white",children:u?.full_name})]}),h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${s(u?.role||"")}`,children:u?.role})]}),h.jsx("button",{onClick:()=>n(),className:"p-2.5 text-white hover:bg-rps-red rounded-lg transition-all",title:"Sign out",children:h.jsx(ey,{className:"w-5 h-5"})})]})]})})})},uy=()=>{const{profile:u}=_n(),[n,s]=X.useState([]),[o,a]=X.useState(!1),[c,f]=X.useState(!0),[p,g]=X.useState({property_address:"",property_postcode:"",tenant_name:"",tenant_contact:"",description:"",severity:"medium",estimated_value:""}),[y,v]=X.useState([]);X.useEffect(()=>{_()},[u]);const _=async()=>{try{const{data:C,error:A}=await pe.from("claims").select("*").eq("operative_id",u?.id).order("created_at",{ascending:!1});if(A)throw A;s(C||[])}catch(C){console.error("Error loading claims:",C)}finally{f(!1)}},N=(C,A)=>{if(C.target.files){const P=Array.from(C.target.files).map(M=>({file:M,type:A}));v([...y,...P])}},O=C=>{v(y.filter((A,P)=>P!==C))},I=async C=>{C.preventDefault(),f(!0);try{const{data:A,error:P}=await pe.from("claims").insert({operative_id:u?.id,property_address:p.property_address,property_postcode:p.property_postcode,tenant_name:p.tenant_name,tenant_contact:p.tenant_contact,description:p.description,severity:p.severity,estimated_value:p.estimated_value?parseFloat(p.estimated_value):null,is_draft:!1,gdpr_consent_given:!0}).select().single();if(P)throw P;for(const{file:M,type:Z}of y){const G=M.name.split(".").pop(),ne=`${A.id}/${Date.now()}.${G}`,{error:de}=await pe.storage.from("claim-files").upload(ne,M);if(de){console.error("File upload error:",de);continue}const{data:{publicUrl:xe}}=pe.storage.from("claim-files").getPublicUrl(ne);await pe.from("claim_documents").insert({claim_id:A.id,file_name:M.name,file_type:Z,file_url:xe,file_size:M.size,uploaded_by:u?.id})}g({property_address:"",property_postcode:"",tenant_name:"",tenant_contact:"",description:"",severity:"medium",estimated_value:""}),v([]),a(!1),_()}catch(A){alert("Error submitting claim: "+A.message)}finally{f(!1)}},R=C=>{switch(C){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";case"validated":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"sold":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},j=C=>{switch(C){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return c&&n.length===0?h.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):h.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Claims"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track disrepair claims"})]}),h.jsxs("button",{onClick:()=>a(!o),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[h.jsx(ty,{className:"w-5 h-5"}),"New Claim"]})]}),o&&h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Submit New Claim"}),h.jsxs("form",{onSubmit:I,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Address"}),h.jsx("input",{type:"text",value:p.property_address,onChange:C=>g({...p,property_address:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),h.jsx("input",{type:"text",value:p.property_postcode,onChange:C=>g({...p,property_postcode:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Severity"}),h.jsxs("select",{value:p.severity,onChange:C=>g({...p,severity:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[h.jsx("option",{value:"low",children:"Low"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"high",children:"High"}),h.jsx("option",{value:"critical",children:"Critical"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant Name"}),h.jsx("input",{type:"text",value:p.tenant_name,onChange:C=>g({...p,tenant_name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant Contact"}),h.jsx("input",{type:"text",value:p.tenant_contact,onChange:C=>g({...p,tenant_contact:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Value ()"}),h.jsx("input",{type:"number",step:"0.01",value:p.estimated_value,onChange:C=>g({...p,estimated_value:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),h.jsx("textarea",{value:p.description,onChange:C=>g({...p,description:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,required:!0})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Documents"}),h.jsx("input",{type:"file",onChange:C=>N(C,"document"),multiple:!0,accept:".pdf,.doc,.docx",className:"w-full"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Photos"}),h.jsx("input",{type:"file",onChange:C=>N(C,"photo"),multiple:!0,accept:"image/*",className:"w-full"})]}),y.length>0&&h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[h.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Files to upload:"}),h.jsx("div",{className:"space-y-2",children:y.map((C,A)=>h.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[C.type==="photo"?h.jsx(ms,{className:"w-4 h-4 text-blue-600"}):h.jsx(ps,{className:"w-4 h-4 text-blue-600"}),h.jsx("span",{className:"text-sm",children:C.file.name})]}),h.jsx("button",{type:"button",onClick:()=>O(A),className:"text-red-600 hover:text-red-700",children:h.jsx(mh,{className:"w-4 h-4"})})]},A))})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"submit",disabled:c,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:c?"Submitting...":"Submit Claim"}),h.jsx("button",{type:"button",onClick:()=>a(!1),className:"bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Cancel"})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(C=>h.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:C.property_address}),h.jsx("p",{className:"text-sm text-gray-600",children:C.property_postcode})]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${R(C.status)}`,children:C.status.replace("_"," ")})]}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j(C.severity)}`,children:C.severity}),C.estimated_value&&h.jsxs("span",{className:"text-sm font-medium text-green-600",children:["",C.estimated_value.toFixed(2)]})]}),h.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:C.description})]}),h.jsx("div",{className:"pt-4 border-t border-gray-200",children:h.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted ",new Date(C.created_at).toLocaleDateString()]})})]},C.id))}),n.length===0&&!o&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(hh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No claims yet"}),h.jsx("p",{className:"text-gray-600",children:'Click "New Claim" to submit your first disrepair claim'})]})]})},cy=()=>{const{profile:u}=_n(),[n,s]=X.useState([]),[o,a]=X.useState(null),[c,f]=X.useState([]),[p,g]=X.useState(""),[y,v]=X.useState(!0),[_,N]=X.useState("all");X.useEffect(()=>{O()},[_]),X.useEffect(()=>{o&&(I(o.id),g(o.surveyor_notes||""))},[o]);const O=async()=>{try{let P=pe.from("claims").select("*").in("status",["pending","under_review"]).order("created_at",{ascending:!1});_!=="all"&&(P=P.eq("status",_));const{data:M,error:Z}=await P;if(Z)throw Z;s(M||[])}catch(P){console.error("Error loading claims:",P)}finally{v(!1)}},I=async P=>{try{const{data:M,error:Z}=await pe.from("claim_documents").select("*").eq("claim_id",P).order("uploaded_at",{ascending:!1});if(Z)throw Z;f(M||[])}catch(M){console.error("Error loading documents:",M)}},R=async P=>{if(o){v(!0);try{const M={status:P,surveyor_id:u?.id,surveyor_notes:p,validated_at:new Date().toISOString(),is_draft:!1};if(P==="validated"){const{data:G}=await pe.rpc("generate_validation_code");M.validation_code=G}const{error:Z}=await pe.from("claims").update(M).eq("id",o.id);if(Z)throw Z;P==="validated"&&alert(`Claim validated! Validation Code: ${M.validation_code}
Please provide this code to the claimant.`),a(null),f([]),g(""),O()}catch(M){alert("Error updating claim: "+M.message)}finally{v(!1)}}},j=async()=>{if(o){v(!0);try{const{error:P}=await pe.from("claims").update({status:"under_review",surveyor_id:u?.id}).eq("id",o.id);if(P)throw P;O(),a({...o,status:"under_review",surveyor_id:u?.id||null})}catch(P){alert("Error assigning claim: "+P.message)}finally{v(!1)}}},C=P=>{switch(P){case"pending":return"bg-yellow-100 text-yellow-800";case"under_review":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},A=P=>{switch(P){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return y&&n.length===0?h.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):h.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Surveyor Dashboard"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Review and validate disrepair claims"})]}),h.jsxs("div",{className:"mb-6 flex gap-2",children:[h.jsx("button",{onClick:()=>N("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${_==="all"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"All Claims"}),h.jsx("button",{onClick:()=>N("pending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${_==="pending"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Pending"}),h.jsx("button",{onClick:()=>N("under_review"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${_==="under_review"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Under Review"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Claims (",n.length,")"]}),n.map(P=>h.jsxs("div",{onClick:()=>a(P),className:`bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow ${o?.id===P.id?"ring-2 ring-blue-600":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:P.property_address}),h.jsx("p",{className:"text-sm text-gray-600",children:P.property_postcode})]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${C(P.status)}`,children:P.status.replace("_"," ")})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A(P.severity)}`,children:P.severity}),P.estimated_value&&h.jsxs("span",{className:"text-sm font-medium text-green-600",children:["",P.estimated_value.toFixed(2)]})]}),h.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:P.description}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[h.jsxs("span",{children:["Tenant: ",P.tenant_name]}),h.jsx("span",{children:new Date(P.created_at).toLocaleDateString()})]})]},P.id)),n.length===0&&h.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[h.jsx(Ui,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No claims to review"}),h.jsx("p",{className:"text-gray-600",children:"All claims have been processed"})]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o?h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Claim Details"}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Property Address"}),h.jsx("p",{className:"text-gray-900",children:o.property_address})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Postcode"}),h.jsx("p",{className:"text-gray-900",children:o.property_postcode})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),h.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${A(o.severity)}`,children:o.severity})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tenant Name"}),h.jsx("p",{className:"text-gray-900",children:o.tenant_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tenant Contact"}),h.jsx("p",{className:"text-gray-900",children:o.tenant_contact})]})]}),o.estimated_value&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Estimated Value"}),h.jsxs("p",{className:"text-green-600 font-semibold",children:["",o.estimated_value.toFixed(2)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),h.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:o.description})]})]}),c.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Documents & Photos"}),h.jsx("div",{className:"space-y-2",children:c.map(P=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[P.file_type==="photo"?h.jsx(ms,{className:"w-5 h-5 text-blue-600"}):h.jsx(ps,{className:"w-5 h-5 text-blue-600"}),h.jsx("span",{className:"text-sm font-medium",children:P.file_name})]}),h.jsx("a",{href:P.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700",children:h.jsx(ph,{className:"w-5 h-5"})})]},P.id))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Surveyor Notes"}),h.jsx("textarea",{value:p,onChange:P=>g(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Add your validation notes..."})]}),h.jsxs("div",{className:"flex gap-3",children:[o.status==="pending"&&h.jsx("button",{onClick:j,disabled:y,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:"Assign to Me"}),o.status==="under_review"&&o.surveyor_id===u?.id&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>R("validated"),disabled:y,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2",children:[h.jsx(Di,{className:"w-5 h-5"}),"Validate"]}),h.jsxs("button",{onClick:()=>R("rejected"),disabled:y,className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2",children:[h.jsx(ny,{className:"w-5 h-5"}),"Reject"]})]})]})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ui,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("p",{children:"Select a claim to view details"})]})})})]})]})},dy=()=>{const{profile:u}=_n(),[n,s]=X.useState([]),[o,a]=X.useState([]),[c,f]=X.useState(null),[p,g]=X.useState([]),[y,v]=X.useState(!0),[_,N]=X.useState("marketplace");X.useEffect(()=>{O()},[_]),X.useEffect(()=>{c&&I(c.id)},[c]);const O=async()=>{try{if(_==="marketplace"){const{data:C,error:A}=await pe.from("claims").select("*").eq("status","validated").order("validated_at",{ascending:!1});if(A)throw A;s(C||[])}else{const{data:C,error:A}=await pe.from("claim_purchases").select("*, claims(*)").eq("solicitor_id",u?.id).order("purchased_at",{ascending:!1});if(A)throw A;a(C||[])}}catch(C){console.error("Error loading claims:",C)}finally{v(!1)}},I=async C=>{try{const{data:A,error:P}=await pe.from("claim_documents").select("*").eq("claim_id",C).order("uploaded_at",{ascending:!1});if(P)throw P;g(A||[])}catch(A){console.error("Error loading documents:",A)}},R=async()=>{if(!c)return;const C=c.estimated_value||0;if(confirm(`Purchase this claim for ${C.toFixed(2)}?

Property: ${c.property_address}`)){v(!0);try{const{error:P}=await pe.from("claim_purchases").insert({claim_id:c.id,solicitor_id:u?.id,purchase_price:C,payment_status:"completed"});if(P)throw P;const{error:M}=await pe.from("claims").update({status:"sold"}).eq("id",c.id);if(M)throw M;alert("Claim purchased successfully!"),f(null),g([]),O()}catch(P){alert("Error purchasing claim: "+P.message)}finally{v(!1)}}},j=C=>{switch(C){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return y&&n.length===0&&o.length===0?h.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):h.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Solicitor Portal"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Browse and purchase validated disrepair claims"})]}),h.jsxs("div",{className:"mb-6 flex gap-2",children:[h.jsxs("button",{onClick:()=>N("marketplace"),className:`px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 ${_==="marketplace"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx(Ga,{className:"w-5 h-5"}),"Marketplace"]}),h.jsxs("button",{onClick:()=>N("purchased"),className:`px-6 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 ${_==="purchased"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[h.jsx(Di,{className:"w-5 h-5"}),"My Purchases"]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:_==="marketplace"?`Available Claims (${n.length})`:`Purchased Claims (${o.length})`}),_==="marketplace"?h.jsxs(h.Fragment,{children:[n.map(C=>h.jsxs("div",{onClick:()=>f(C),className:`bg-white rounded-lg shadow-md p-5 cursor-pointer hover:shadow-lg transition-shadow ${c?.id===C.id?"ring-2 ring-blue-600":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-lg",children:C.property_address}),h.jsx("p",{className:"text-sm text-gray-600",children:C.property_postcode})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",C.estimated_value?.toFixed(2)||"0.00"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"asking price"})]})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j(C.severity)}`,children:C.severity}),h.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800",children:"Validated"})]}),h.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-3",children:C.description}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-200",children:[h.jsxs("span",{children:["Tenant: ",C.tenant_name]}),h.jsxs("span",{children:["Validated ",new Date(C.validated_at||"").toLocaleDateString()]})]})]},C.id)),n.length===0&&h.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[h.jsx(Ga,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No claims available"}),h.jsx("p",{className:"text-gray-600",children:"Check back later for new validated claims"})]})]}):h.jsxs(h.Fragment,{children:[o.map(C=>h.jsxs("div",{onClick:()=>f(C.claims),className:`bg-white rounded-lg shadow-md p-5 cursor-pointer hover:shadow-lg transition-shadow ${c?.id===C.claims.id?"ring-2 ring-blue-600":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-1 text-lg",children:C.claims.property_address}),h.jsx("p",{className:"text-sm text-gray-600",children:C.claims.property_postcode})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["",C.purchase_price.toFixed(2)]}),h.jsx("p",{className:"text-xs text-green-600 font-medium",children:C.payment_status})]})]}),h.jsx("div",{className:"flex items-center gap-2 mb-3",children:h.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${j(C.claims.severity)}`,children:C.claims.severity})}),h.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-3",children:C.claims.description}),h.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-200",children:[h.jsxs("span",{children:["Tenant: ",C.claims.tenant_name]}),h.jsxs("span",{children:["Purchased ",new Date(C.purchased_at).toLocaleDateString()]})]})]},C.id)),o.length===0&&h.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[h.jsx(Di,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No purchases yet"}),h.jsx("p",{className:"text-gray-600",children:"Browse the marketplace to purchase your first claim"})]})]})]}),h.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c?h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Claim Details"}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Property Address"}),h.jsx("p",{className:"text-gray-900 font-medium text-lg",children:c.property_address})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Postcode"}),h.jsx("p",{className:"text-gray-900",children:c.property_postcode})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Severity"}),h.jsx("div",{children:h.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${j(c.severity)}`,children:c.severity})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tenant Name"}),h.jsx("p",{className:"text-gray-900",children:c.tenant_name})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tenant Contact"}),h.jsx("p",{className:"text-gray-900",children:c.tenant_contact})]})]}),c.estimated_value&&h.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Price"}),h.jsxs("p",{className:"text-green-600 font-bold text-3xl",children:["",c.estimated_value.toFixed(2)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),h.jsx("p",{className:"text-gray-900 whitespace-pre-wrap bg-gray-50 p-4 rounded-lg",children:c.description})]}),c.surveyor_notes&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Surveyor Notes"}),h.jsx("p",{className:"text-gray-900 whitespace-pre-wrap bg-blue-50 p-4 rounded-lg border border-blue-200",children:c.surveyor_notes})]})]}),p.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Documents & Photos"}),h.jsx("div",{className:"space-y-2",children:p.map(C=>h.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[C.file_type==="photo"?h.jsx(ms,{className:"w-5 h-5 text-blue-600"}):h.jsx(ps,{className:"w-5 h-5 text-blue-600"}),h.jsx("span",{className:"text-sm font-medium",children:C.file_name})]}),h.jsx("a",{href:C.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 transition-colors",children:h.jsx(ph,{className:"w-5 h-5"})})]},C.id))})]}),c.status==="validated"&&_==="marketplace"&&h.jsxs("button",{onClick:R,disabled:y,className:"w-full bg-green-600 text-white px-6 py-4 rounded-lg font-bold text-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2",children:[h.jsx(Ga,{className:"w-6 h-6"}),"Purchase for ",c.estimated_value?.toFixed(2)||"0.00"]}),c.status==="sold"&&h.jsx("div",{className:"bg-gray-100 text-gray-700 px-6 py-4 rounded-lg font-semibold text-center",children:"Purchased"})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Ui,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("p",{children:"Select a claim to view details"})]})})})]})]})};function hy(){const{user:u,profile:n,loading:s}=_n(),[o,a]=X.useState("landing");return s?h.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!u||!n?o==="auth"?h.jsx(iy,{onBack:()=>a("landing")}):o==="claim"?h.jsx(ay,{onBack:()=>a("landing")}):h.jsx(oy,{onGetStarted:()=>a("claim"),onPortalLogin:()=>a("auth")}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx(ly,{}),(n.role==="tenant"||n.role==="operative")&&h.jsx(uy,{}),n.role==="surveyor"&&h.jsx(cy,{}),n.role==="solicitor"&&h.jsx(dy,{})]})}function fy(){return h.jsx(Kg,{children:h.jsx(hy,{})})}kp.createRoot(document.getElementById("root")).render(h.jsx(X.StrictMode,{children:h.jsx(fy,{})}));
